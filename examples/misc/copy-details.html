
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Abella: Equivalence of single and double eigenvariable definitions of copy - Details</title>
<link href="http://abella.cs.umn.edu/style.css" rel="stylesheet" type="text/css" />
<link rel="icon" href="http://abella.cs.umn.edu/images/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="http://abella.cs.umn.edu/images/favicon.ico"
        type="image/x-icon" />
</head>

<body>

<div id="logo-small">
<a href="http://abella.cs.umn.edu/index.html">
<img src="http://abella.cs.umn.edu/images/logo-small.png"/>
</a>
</div>

<div class="section">
Welcome to Abella 2.0
<a name="1"></a>
<pre class="code">
Abella < <b>Specification "copy".</b>
Reading specification "copy"
</pre>
<a name="2"></a>
<pre class="code">
Abella < <b>Theorem member_fresh : 
forall L E, nabla x, member (E x) L -> (exists F, E = y\F).</b>
</pre>
<a name="3"></a>
<pre>


  ============================
   forall L E, nabla x, member (E x) L -> (exists F, E = y\F)

member_fresh < <b>induction on 1.</b>
</pre>
<a name="4"></a>
<pre>


  IH : forall L E, nabla x, member (E x) L * -> (exists F, E = y\F)
  ============================
   forall L E, nabla x, member (E x) L @ -> (exists F, E = y\F)

member_fresh < <b>intros.</b>
</pre>
<a name="5"></a>
<pre>

  Variables: L, E
  IH : forall L E, nabla x, member (E x) L * -> (exists F, E = y\F)
  H1 : member (E n1) L @
  ============================
   exists F, E = y\F

member_fresh < <b>case H1.</b>
</pre>
<a name="6"></a>
<pre>
Subgoal 1:

  Variables: L, E, L3, L2
  IH : forall L E, nabla x, member (E x) L * -> (exists F, E = y\F)
  ============================
   exists F, z1\L2 = y\F

Subgoal 2 is:
 exists F, E = y\F

member_fresh < <b>search.</b>
</pre>
<a name="7"></a>
<pre>
Subgoal 2:

  Variables: L, E, L3, L2
  IH : forall L E, nabla x, member (E x) L * -> (exists F, E = y\F)
  H2 : member (E n1) L3 *
  ============================
   exists F, E = y\F

member_fresh < <b>apply IH to H2.</b>
</pre>
<a name="8"></a>
<pre>
Subgoal 2:

  Variables: L, E, L3, L2, F
  IH : forall L E, nabla x, member (E x) L * -> (exists F, E = y\F)
  H2 : member F L3 *
  ============================
   exists F1, z1\F = y\F1

member_fresh < <b>search.</b>
Proof completed.
</pre>
<a name="9"></a>
<pre class="code">
Abella < <b>Define ctxs : olist -> olist -> prop by 
ctxs nil nil;
ctxs (copy X Y :: L1) (copy2 X Y :: L2) := ctxs L1 L2.</b>
</pre>
<a name="10"></a>
<pre class="code">
Abella < <b>Define name : tm -> prop by 
nabla x, name x.</b>
</pre>
<a name="11"></a>
<pre class="code">
Abella < <b>Theorem ctx_mem1 : 
forall F L1 L2, ctxs L1 L2 -> member F L1 -> (exists X Y, F = copy X Y).</b>
</pre>
<a name="12"></a>
<pre>


  ============================
   forall F L1 L2, ctxs L1 L2 -> member F L1 -> (exists X Y, F = copy X Y)

ctx_mem1 < <b>induction on 1.</b>
</pre>
<a name="13"></a>
<pre>


  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  ============================
   forall F L1 L2, ctxs L1 L2 @ -> member F L1 -> (exists X Y, F = copy X Y)

ctx_mem1 < <b>intros.</b>
</pre>
<a name="14"></a>
<pre>

  Variables: F, L1, L2
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H1 : ctxs L1 L2 @
  H2 : member F L1
  ============================
   exists X Y, F = copy X Y

ctx_mem1 < <b>case H1.</b>
</pre>
<a name="15"></a>
<pre>
Subgoal 1:

  Variables: F, L1, L2
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H2 : member F nil
  ============================
   exists X Y, F = copy X Y

Subgoal 2 is:
 exists X Y, F = copy X Y

ctx_mem1 < <b>case H2.</b>
</pre>
<a name="16"></a>
<pre>
Subgoal 2:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H2 : member F (copy X Y :: L3)
  H3 : ctxs L3 L4 *
  ============================
   exists X Y, F = copy X Y

ctx_mem1 < <b>case H2.</b>
</pre>
<a name="17"></a>
<pre>
Subgoal 2.1:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H3 : ctxs L3 L4 *
  ============================
   exists X1 Y1, copy X Y = copy X1 Y1

Subgoal 2.2 is:
 exists X Y, F = copy X Y

ctx_mem1 < <b>search.</b>
</pre>
<a name="18"></a>
<pre>
Subgoal 2.2:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H3 : ctxs L3 L4 *
  H4 : member F L3
  ============================
   exists X Y, F = copy X Y

ctx_mem1 < <b>apply IH to H3 H4.</b>
</pre>
<a name="19"></a>
<pre>
Subgoal 2.2:

  Variables: F, L1, L2, L4, Y, X, L3, X1, Y1
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L1 -> (exists X Y,
         F = copy X Y)
  H3 : ctxs L3 L4 *
  H4 : member (copy X1 Y1) L3
  ============================
   exists X Y, copy X1 Y1 = copy X Y

ctx_mem1 < <b>search.</b>
Proof completed.
</pre>
<a name="20"></a>
<pre class="code">
Abella < <b>Theorem ctx_mem2 : 
forall F L1 L2, ctxs L1 L2 -> member F L2 -> (exists X Y, F = copy2 X Y).</b>
</pre>
<a name="21"></a>
<pre>


  ============================
   forall F L1 L2, ctxs L1 L2 -> member F L2 -> (exists X Y, F = copy2 X Y)

ctx_mem2 < <b>induction on 1.</b>
</pre>
<a name="22"></a>
<pre>


  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  ============================
   forall F L1 L2, ctxs L1 L2 @ -> member F L2 -> (exists X Y, F = copy2 X Y)

ctx_mem2 < <b>intros.</b>
</pre>
<a name="23"></a>
<pre>

  Variables: F, L1, L2
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H1 : ctxs L1 L2 @
  H2 : member F L2
  ============================
   exists X Y, F = copy2 X Y

ctx_mem2 < <b>case H1.</b>
</pre>
<a name="24"></a>
<pre>
Subgoal 1:

  Variables: F, L1, L2
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H2 : member F nil
  ============================
   exists X Y, F = copy2 X Y

Subgoal 2 is:
 exists X Y, F = copy2 X Y

ctx_mem2 < <b>case H2.</b>
</pre>
<a name="25"></a>
<pre>
Subgoal 2:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H2 : member F (copy2 X Y :: L4)
  H3 : ctxs L3 L4 *
  ============================
   exists X Y, F = copy2 X Y

ctx_mem2 < <b>case H2.</b>
</pre>
<a name="26"></a>
<pre>
Subgoal 2.1:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H3 : ctxs L3 L4 *
  ============================
   exists X1 Y1, copy2 X Y = copy2 X1 Y1

Subgoal 2.2 is:
 exists X Y, F = copy2 X Y

ctx_mem2 < <b>search.</b>
</pre>
<a name="27"></a>
<pre>
Subgoal 2.2:

  Variables: F, L1, L2, L4, Y, X, L3
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H3 : ctxs L3 L4 *
  H4 : member F L4
  ============================
   exists X Y, F = copy2 X Y

ctx_mem2 < <b>apply IH to H3 H4.</b>
</pre>
<a name="28"></a>
<pre>
Subgoal 2.2:

  Variables: F, L1, L2, L4, Y, X, L3, X1, Y1
  IH : forall F L1 L2, ctxs L1 L2 * -> member F L2 -> (exists X Y,
         F = copy2 X Y)
  H3 : ctxs L3 L4 *
  H4 : member (copy2 X1 Y1) L4
  ============================
   exists X Y, copy2 X1 Y1 = copy2 X Y

ctx_mem2 < <b>search.</b>
Proof completed.
</pre>
<a name="29"></a>
<pre class="code">
Abella < <b>Theorem copy2_align : 
forall M N K L, nabla z, ctxs K L -> {L, copy2 z z |- copy2 (M z) (N z)} ->
  (nabla x y, {L, copy2 x y |- copy2 (M x) (N y)}).</b>
</pre>
<a name="30"></a>
<pre>


  ============================
   forall M N K L, nabla z, ctxs K L ->
     {L, copy2 z z |- copy2 (M z) (N z)} -> (nabla x y,
     {L, copy2 x y |- copy2 (M x) (N y)})

copy2_align < <b>induction on 2.</b>
</pre>
<a name="31"></a>
<pre>


  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  ============================
   forall M N K L, nabla z, ctxs K L ->
     {L, copy2 z z |- copy2 (M z) (N z)}@ -> (nabla x y,
     {L, copy2 x y |- copy2 (M x) (N y)})

copy2_align < <b>intros.</b>
</pre>
<a name="32"></a>
<pre>

  Variables: M, N, K, L
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H2 : {L, copy2 n1 n1 |- copy2 (M n1) (N n1)}@
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>case H2.</b>
</pre>
<a name="33"></a>
<pre>
Subgoal 1:

  Variables: M, N, K, L, Q, M1, P, N1
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1 |- copy2 (N1 n1) (P n1)}*
  H4 : {L, copy2 n1 n1 |- copy2 (M1 n1) (Q n1)}*
  ============================
   {L, copy2 n1 n2 |- copy2 (app (N1 n1) (M1 n1)) (app (P n2) (Q n2))}

Subgoal 2 is:
 {L, copy2 n1 n2 |- copy2 (abs (R n1)) (abs (S n2))}

Subgoal 3 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>apply IH to H1 H3.</b>
</pre>
<a name="34"></a>
<pre>
Subgoal 1:

  Variables: M, N, K, L, Q, M1, P, N1
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1 |- copy2 (N1 n1) (P n1)}*
  H4 : {L, copy2 n1 n1 |- copy2 (M1 n1) (Q n1)}*
  H5 : {L, copy2 n1 n2 |- copy2 (N1 n1) (P n2)}
  ============================
   {L, copy2 n1 n2 |- copy2 (app (N1 n1) (M1 n1)) (app (P n2) (Q n2))}

Subgoal 2 is:
 {L, copy2 n1 n2 |- copy2 (abs (R n1)) (abs (S n2))}

Subgoal 3 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>apply IH to H1 H4.</b>
</pre>
<a name="35"></a>
<pre>
Subgoal 1:

  Variables: M, N, K, L, Q, M1, P, N1
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1 |- copy2 (N1 n1) (P n1)}*
  H4 : {L, copy2 n1 n1 |- copy2 (M1 n1) (Q n1)}*
  H5 : {L, copy2 n1 n2 |- copy2 (N1 n1) (P n2)}
  H6 : {L, copy2 n1 n2 |- copy2 (M1 n1) (Q n2)}
  ============================
   {L, copy2 n1 n2 |- copy2 (app (N1 n1) (M1 n1)) (app (P n2) (Q n2))}

Subgoal 2 is:
 {L, copy2 n1 n2 |- copy2 (abs (R n1)) (abs (S n2))}

Subgoal 3 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>search.</b>
</pre>
<a name="36"></a>
<pre>
Subgoal 2:

  Variables: M, N, K, L, S, R
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, copy2 n2 n3 |- copy2 (R n1 n2) (S n1 n3)}*
  ============================
   {L, copy2 n1 n2 |- copy2 (abs (R n1)) (abs (S n2))}

Subgoal 3 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>apply IH to _ H3.</b>
</pre>
<a name="37"></a>
<pre>
Subgoal 2:

  Variables: M, N, K, L, S, R
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, copy2 n2 n3 |- copy2 (R n1 n2) (S n1 n3)}*
  H4 : {L, copy2 n2 n3, copy2 n1 n4 |- copy2 (R n1 n2) (S n4 n3)}
  ============================
   {L, copy2 n1 n2 |- copy2 (abs (R n1)) (abs (S n2))}

Subgoal 3 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>search.</b>
</pre>
<a name="38"></a>
<pre>
Subgoal 3:

  Variables: M, N, K, L, F
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, [F n1] |- copy2 (M n1) (N n1)}*
  H4 : member (F n1) (copy2 n1 n1 :: L)
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>case H4.</b>
</pre>
<a name="39"></a>
<pre>
Subgoal 3.1:

  Variables: M, N, K, L, F
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, [copy2 n1 n1] |- copy2 (M n1) (N n1)}*
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

Subgoal 3.2 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>case H3.</b>
</pre>
<a name="40"></a>
<pre>
Subgoal 3.1:

  Variables: M, N, K, L, F
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  ============================
   {L, copy2 n1 n2 |- copy2 n1 n2}

Subgoal 3.2 is:
 {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>search.</b>
</pre>
<a name="41"></a>
<pre>
Subgoal 3.2:

  Variables: M, N, K, L, F
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, [F n1] |- copy2 (M n1) (N n1)}*
  H5 : member (F n1) L
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>apply member_fresh to H5.</b>
</pre>
<a name="42"></a>
<pre>
Subgoal 3.2:

  Variables: M, N, K, L, F, F1
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, [F1] |- copy2 (M n1) (N n1)}*
  H5 : member F1 L
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>apply ctx_mem2 to H1 H5.</b>
</pre>
<a name="43"></a>
<pre>
Subgoal 3.2:

  Variables: M, N, K, L, F, F1, X, Y
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H3 : {L, copy2 n1 n1, [copy2 X Y] |- copy2 (M n1) (N n1)}*
  H5 : member (copy2 X Y) L
  ============================
   {L, copy2 n1 n2 |- copy2 (M n1) (N n2)}

copy2_align < <b>case H3.</b>
</pre>
<a name="44"></a>
<pre>
Subgoal 3.2:

  Variables: M, N, K, L, F, F1, X, Y
  IH : forall M N K L, nabla z, ctxs K L ->
         {L, copy2 z z |- copy2 (M z) (N z)}* -> (nabla x y,
         {L, copy2 x y |- copy2 (M x) (N y)})
  H1 : ctxs K L
  H5 : member (copy2 X Y) L
  ============================
   {L, copy2 n1 n2 |- copy2 X Y}

copy2_align < <b>search.</b>
Proof completed.
</pre>
<a name="45"></a>
<pre class="code">
Abella < <b>Theorem ctxs_member1 : 
forall X Y L K, ctxs L K -> member (copy X Y) L -> member (copy2 X Y) K.</b>
</pre>
<a name="46"></a>
<pre>


  ============================
   forall X Y L K, ctxs L K -> member (copy X Y) L -> member (copy2 X Y) K

ctxs_member1 < <b>induction on 1.</b>
</pre>
<a name="47"></a>
<pre>


  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  ============================
   forall X Y L K, ctxs L K @ -> member (copy X Y) L -> member (copy2 X Y) K

ctxs_member1 < <b>intros.</b>
</pre>
<a name="48"></a>
<pre>

  Variables: X, Y, L, K
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H1 : ctxs L K @
  H2 : member (copy X Y) L
  ============================
   member (copy2 X Y) K

ctxs_member1 < <b>case H1.</b>
</pre>
<a name="49"></a>
<pre>
Subgoal 1:

  Variables: X, Y, L, K
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H2 : member (copy X Y) nil
  ============================
   member (copy2 X Y) nil

Subgoal 2 is:
 member (copy2 X Y) (copy2 X1 Y1 :: L2)

ctxs_member1 < <b>case H2.</b>
</pre>
<a name="50"></a>
<pre>
Subgoal 2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H2 : member (copy X Y) (copy X1 Y1 :: L1)
  H3 : ctxs L1 L2 *
  ============================
   member (copy2 X Y) (copy2 X1 Y1 :: L2)

ctxs_member1 < <b>case H2.</b>
</pre>
<a name="51"></a>
<pre>
Subgoal 2.1:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H3 : ctxs L1 L2 *
  ============================
   member (copy2 X1 Y1) (copy2 X1 Y1 :: L2)

Subgoal 2.2 is:
 member (copy2 X Y) (copy2 X1 Y1 :: L2)

ctxs_member1 < <b>search.</b>
</pre>
<a name="52"></a>
<pre>
Subgoal 2.2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H3 : ctxs L1 L2 *
  H4 : member (copy X Y) L1
  ============================
   member (copy2 X Y) (copy2 X1 Y1 :: L2)

ctxs_member1 < <b>apply IH to H3 H4.</b>
</pre>
<a name="53"></a>
<pre>
Subgoal 2.2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy X Y) L ->
         member (copy2 X Y) K
  H3 : ctxs L1 L2 *
  H4 : member (copy X Y) L1
  H5 : member (copy2 X Y) L2
  ============================
   member (copy2 X Y) (copy2 X1 Y1 :: L2)

ctxs_member1 < <b>search.</b>
Proof completed.
</pre>
<a name="54"></a>
<pre class="code">
Abella < <b>Theorem copy_copy2 : 
forall L K M N, ctxs L K -> {L |- copy M N} -> {K |- copy2 M N}.</b>
</pre>
<a name="55"></a>
<pre>


  ============================
   forall L K M N, ctxs L K -> {L |- copy M N} -> {K |- copy2 M N}

copy_copy2 < <b>induction on 2.</b>
</pre>
<a name="56"></a>
<pre>


  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  ============================
   forall L K M N, ctxs L K -> {L |- copy M N}@ -> {K |- copy2 M N}

copy_copy2 < <b>intros.</b>
</pre>
<a name="57"></a>
<pre>

  Variables: L, K, M, N
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H2 : {L |- copy M N}@
  ============================
   {K |- copy2 M N}

copy_copy2 < <b>case H2.</b>
</pre>
<a name="58"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L |- copy N1 P}*
  H4 : {L |- copy M1 Q}*
  ============================
   {K |- copy2 (app N1 M1) (app P Q)}

Subgoal 2 is:
 {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>apply IH to H1 H3.</b>
</pre>
<a name="59"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L |- copy N1 P}*
  H4 : {L |- copy M1 Q}*
  H5 : {K |- copy2 N1 P}
  ============================
   {K |- copy2 (app N1 M1) (app P Q)}

Subgoal 2 is:
 {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>apply IH to H1 H4.</b>
</pre>
<a name="60"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L |- copy N1 P}*
  H4 : {L |- copy M1 Q}*
  H5 : {K |- copy2 N1 P}
  H6 : {K |- copy2 M1 Q}
  ============================
   {K |- copy2 (app N1 M1) (app P Q)}

Subgoal 2 is:
 {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>search.</b>
</pre>
<a name="61"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L, copy n1 n1 |- copy (R n1) (S n1)}*
  ============================
   {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>apply IH to _ H3.</b>
</pre>
<a name="62"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L, copy n1 n1 |- copy (R n1) (S n1)}*
  H4 : {K, copy2 n1 n1 |- copy2 (R n1) (S n1)}
  ============================
   {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>apply copy2_align to H1 H4.</b>
</pre>
<a name="63"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L, copy n1 n1 |- copy (R n1) (S n1)}*
  H4 : {K, copy2 n1 n1 |- copy2 (R n1) (S n1)}
  H5 : {K, copy2 n1 n2 |- copy2 (R n1) (S n2)}
  ============================
   {K |- copy2 (abs R) (abs S)}

Subgoal 3 is:
 {K |- copy2 M N}

copy_copy2 < <b>search.</b>
</pre>
<a name="64"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L, [F] |- copy M N}*
  H4 : member F L
  ============================
   {K |- copy2 M N}

copy_copy2 < <b>apply ctx_mem1 to H1 H4.</b>
</pre>
<a name="65"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H3 : {L, [copy X Y] |- copy M N}*
  H4 : member (copy X Y) L
  ============================
   {K |- copy2 M N}

copy_copy2 < <b>case H3.</b>
</pre>
<a name="66"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H4 : member (copy M N) L
  ============================
   {K |- copy2 M N}

copy_copy2 < <b>apply ctxs_member1 to H1 H4.</b>
</pre>
<a name="67"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {L |- copy M N}* -> {K |- copy2 M N}
  H1 : ctxs L K
  H4 : member (copy M N) L
  H5 : member (copy2 M N) K
  ============================
   {K |- copy2 M N}

copy_copy2 < <b>search.</b>
Proof completed.
</pre>
<a name="68"></a>
<pre class="code">
Abella < <b>Theorem copy_align : 
forall M N L, nabla x y, {L, copy x y |- copy (M x) (N y)} -> (nabla z,
  {L, copy z z |- copy (M z) (N z)}).</b>
</pre>
<a name="69"></a>
<pre>


  ============================
   forall M N L, nabla x y, {L, copy x y |- copy (M x) (N y)} -> (nabla z,
     {L, copy z z |- copy (M z) (N z)})

copy_align < <b>intros.</b>
</pre>
<a name="70"></a>
<pre>

  Variables: M, N, L
  H1 : {L, copy n1 n2 |- copy (M n1) (N n2)}
  ============================
   {L, copy n1 n1 |- copy (M n1) (N n1)}

copy_align < <b>inst H1 with n2 = n1.</b>
</pre>
<a name="71"></a>
<pre>

  Variables: M, N, L
  H1 : {L, copy n1 n2 |- copy (M n1) (N n2)}
  H2 : {L, copy n1 n1 |- copy (M n1) (N n1)}
  ============================
   {L, copy n1 n1 |- copy (M n1) (N n1)}

copy_align < <b>search.</b>
Proof completed.
</pre>
<a name="72"></a>
<pre class="code">
Abella < <b>Theorem ctxs_member2 : 
forall X Y L K, ctxs L K -> member (copy2 X Y) K -> member (copy X Y) L.</b>
</pre>
<a name="73"></a>
<pre>


  ============================
   forall X Y L K, ctxs L K -> member (copy2 X Y) K -> member (copy X Y) L

ctxs_member2 < <b>induction on 1.</b>
</pre>
<a name="74"></a>
<pre>


  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  ============================
   forall X Y L K, ctxs L K @ -> member (copy2 X Y) K -> member (copy X Y) L

ctxs_member2 < <b>intros.</b>
</pre>
<a name="75"></a>
<pre>

  Variables: X, Y, L, K
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H1 : ctxs L K @
  H2 : member (copy2 X Y) K
  ============================
   member (copy X Y) L

ctxs_member2 < <b>case H1.</b>
</pre>
<a name="76"></a>
<pre>
Subgoal 1:

  Variables: X, Y, L, K
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H2 : member (copy2 X Y) nil
  ============================
   member (copy X Y) nil

Subgoal 2 is:
 member (copy X Y) (copy X1 Y1 :: L1)

ctxs_member2 < <b>case H2.</b>
</pre>
<a name="77"></a>
<pre>
Subgoal 2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H2 : member (copy2 X Y) (copy2 X1 Y1 :: L2)
  H3 : ctxs L1 L2 *
  ============================
   member (copy X Y) (copy X1 Y1 :: L1)

ctxs_member2 < <b>case H2.</b>
</pre>
<a name="78"></a>
<pre>
Subgoal 2.1:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H3 : ctxs L1 L2 *
  ============================
   member (copy X1 Y1) (copy X1 Y1 :: L1)

Subgoal 2.2 is:
 member (copy X Y) (copy X1 Y1 :: L1)

ctxs_member2 < <b>search.</b>
</pre>
<a name="79"></a>
<pre>
Subgoal 2.2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H3 : ctxs L1 L2 *
  H4 : member (copy2 X Y) L2
  ============================
   member (copy X Y) (copy X1 Y1 :: L1)

ctxs_member2 < <b>apply IH to H3 H4.</b>
</pre>
<a name="80"></a>
<pre>
Subgoal 2.2:

  Variables: X, Y, L, K, L2, Y1, X1, L1
  IH : forall X Y L K, ctxs L K * -> member (copy2 X Y) K ->
         member (copy X Y) L
  H3 : ctxs L1 L2 *
  H4 : member (copy2 X Y) L2
  H5 : member (copy X Y) L1
  ============================
   member (copy X Y) (copy X1 Y1 :: L1)

ctxs_member2 < <b>search.</b>
Proof completed.
</pre>
<a name="81"></a>
<pre class="code">
Abella < <b>Theorem copy2_copy : 
forall L K M N, ctxs L K -> {K |- copy2 M N} -> {L |- copy M N}.</b>
</pre>
<a name="82"></a>
<pre>


  ============================
   forall L K M N, ctxs L K -> {K |- copy2 M N} -> {L |- copy M N}

copy2_copy < <b>induction on 2.</b>
</pre>
<a name="83"></a>
<pre>


  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  ============================
   forall L K M N, ctxs L K -> {K |- copy2 M N}@ -> {L |- copy M N}

copy2_copy < <b>intros.</b>
</pre>
<a name="84"></a>
<pre>

  Variables: L, K, M, N
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H2 : {K |- copy2 M N}@
  ============================
   {L |- copy M N}

copy2_copy < <b>case H2.</b>
</pre>
<a name="85"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K |- copy2 N1 P}*
  H4 : {K |- copy2 M1 Q}*
  ============================
   {L |- copy (app N1 M1) (app P Q)}

Subgoal 2 is:
 {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>apply IH to H1 H3.</b>
</pre>
<a name="86"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K |- copy2 N1 P}*
  H4 : {K |- copy2 M1 Q}*
  H5 : {L |- copy N1 P}
  ============================
   {L |- copy (app N1 M1) (app P Q)}

Subgoal 2 is:
 {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>apply IH to H1 H4.</b>
</pre>
<a name="87"></a>
<pre>
Subgoal 1:

  Variables: L, K, M, N, Q, M1, P, N1
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K |- copy2 N1 P}*
  H4 : {K |- copy2 M1 Q}*
  H5 : {L |- copy N1 P}
  H6 : {L |- copy M1 Q}
  ============================
   {L |- copy (app N1 M1) (app P Q)}

Subgoal 2 is:
 {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>search.</b>
</pre>
<a name="88"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K, copy2 n1 n2 |- copy2 (R n1) (S n2)}*
  ============================
   {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>apply IH to _ H3.</b>
</pre>
<a name="89"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K, copy2 n1 n2 |- copy2 (R n1) (S n2)}*
  H4 : {L, copy n1 n2 |- copy (R n1) (S n2)}
  ============================
   {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>apply copy_align to H4.</b>
</pre>
<a name="90"></a>
<pre>
Subgoal 2:

  Variables: L, K, M, N, S, R
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K, copy2 n1 n2 |- copy2 (R n1) (S n2)}*
  H4 : {L, copy n1 n2 |- copy (R n1) (S n2)}
  H5 : {L, copy n1 n1 |- copy (R n1) (S n1)}
  ============================
   {L |- copy (abs R) (abs S)}

Subgoal 3 is:
 {L |- copy M N}

copy2_copy < <b>search.</b>
</pre>
<a name="91"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K, [F] |- copy2 M N}*
  H4 : member F K
  ============================
   {L |- copy M N}

copy2_copy < <b>apply ctx_mem2 to H1 H4.</b>
</pre>
<a name="92"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H3 : {K, [copy2 X Y] |- copy2 M N}*
  H4 : member (copy2 X Y) K
  ============================
   {L |- copy M N}

copy2_copy < <b>case H3.</b>
</pre>
<a name="93"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H4 : member (copy2 M N) K
  ============================
   {L |- copy M N}

copy2_copy < <b>apply ctxs_member2 to H1 H4.</b>
</pre>
<a name="94"></a>
<pre>
Subgoal 3:

  Variables: L, K, M, N, F, X, Y
  IH : forall L K M N, ctxs L K -> {K |- copy2 M N}* -> {L |- copy M N}
  H1 : ctxs L K
  H4 : member (copy2 M N) K
  H5 : member (copy M N) L
  ============================
   {L |- copy M N}

copy2_copy < <b>search.</b>
Proof completed.
</pre>
<a name="95"></a>
<pre class="code">
Abella < Goodbye.
</pre>
</div>

</body>
</html>
