Welcome to Abella 2.0
Abella < Specification "pic".
Reading specification "pic"

Abella < CoDefine bisim : p -> p -> prop by 
bisim P Q := (forall A P1, {one P A P1} -> (exists Q1, {one Q A Q1} /\ bisim P1 Q1)) /\
  (forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
  (forall w, bisim (M w) (N w)))) /\ (forall X M, {oneb P (up X) M} ->
  (exists N, {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w)))) /\
  (forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ bisim Q1 P1)) /\
  (forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
  (forall w, bisim (N w) (M w)))) /\ (forall X N, {oneb Q (up X) N} ->
  (exists M, {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w)))).

Abella < Type a n.

Abella < Type x n.

Abella < Define p : p -> prop by 
p (bang (nu (z\par (out z a null) (in z (y\out x y null))))).

Abella < Define q : p -> prop by 
q (bang (taup (out x a null))).

Abella < Define inv : p -> p -> prop by 
inv P Q := p P /\ q Q;
inv Q P := q Q /\ p P;
inv (par (nu (z\par null null)) M) (par null N) := inv M N;
inv (par null N) (par (nu (z\par null null)) M) := inv N M;
inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N) := inv M N;
inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M) := inv N M.

Abella < Define bisimInv : p -> p -> prop by 
bisimInv P Q := (forall A P1, {one P A P1} -> (exists Q1, {one Q A Q1} /\ inv P1 Q1)) /\
  (forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
  (forall w, inv (M w) (N w)))) /\ (forall X M, {oneb P (up X) M} ->
  (exists N, {oneb Q (up X) N} /\ (nabla w, inv (M w) (N w)))) /\
  (forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)) /\
  (forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
  (forall w, inv (N w) (M w)))) /\ (forall X N, {oneb Q (up X) N} ->
  (exists M, {oneb P (up X) M} /\ (nabla w, inv (N w) (M w)))).

Abella < Define simInv : p -> p -> prop by 
simInv P Q := (forall A P1, {one P A P1} -> (exists Q1, {one Q A Q1} /\ inv P1 Q1)) /\
  (forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
  (forall w, inv (M w) (N w)))) /\ (forall X M, {oneb P (up X) M} ->
  (exists N, {oneb Q (up X) N} /\ (nabla w, inv (M w) (N w)))).

Abella < Theorem inv-sym : 
forall P Q, inv P Q -> inv Q P.


  ============================
   forall P Q, inv P Q -> inv Q P

inv-sym < induction on 1.


  IH : forall P Q, inv P Q * -> inv Q P
  ============================
   forall P Q, inv P Q @ -> inv Q P

inv-sym < intros.

  Variables: P, Q
  IH : forall P Q, inv P Q * -> inv Q P
  H1 : inv P Q @
  ============================
   inv Q P

inv-sym < case H1.
Subgoal 1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : p P
  H3 : q Q
  ============================
   inv Q P

Subgoal 2 is:
 inv Q P

Subgoal 3 is:
 inv (par null N) (par (nu (z\par null null)) M)

Subgoal 4 is:
 inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Subgoal 2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : q P
  H3 : p Q
  ============================
   inv Q P

Subgoal 3 is:
 inv (par null N) (par (nu (z\par null null)) M)

Subgoal 4 is:
 inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Subgoal 3:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv M N *
  ============================
   inv (par null N) (par (nu (z\par null null)) M)

Subgoal 4 is:
 inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < apply IH to H2.
Subgoal 3:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv M N *
  H3 : inv N M
  ============================
   inv (par null N) (par (nu (z\par null null)) M)

Subgoal 4 is:
 inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Subgoal 4:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv N M *
  ============================
   inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < apply IH to H2.
Subgoal 4:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv N M *
  H3 : inv M N
  ============================
   inv (par (nu (z\par null null)) M) (par null N)

Subgoal 5 is:
 inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Subgoal 5:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv M N *
  ============================
   inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < apply IH to H2.
Subgoal 5:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv M N *
  H3 : inv N M
  ============================
   inv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

Subgoal 6 is:
 inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Subgoal 6:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv N M *
  ============================
   inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < apply IH to H2.
Subgoal 6:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> inv Q P
  H2 : inv N M *
  H3 : inv M N
  ============================
   inv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

inv-sym < search.
Proof completed.

Abella < Theorem sim-bisim : 
forall P Q, simInv P Q -> simInv Q P -> bisimInv P Q.


  ============================
   forall P Q, simInv P Q -> simInv Q P -> bisimInv P Q

sim-bisim < intros.

  Variables: P, Q
  H1 : simInv P Q
  H2 : simInv Q P
  ============================
   bisimInv P Q

sim-bisim < case H1.

  Variables: P, Q
  H2 : simInv Q P
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   bisimInv P Q

sim-bisim < case H2.

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   bisimInv P Q

sim-bisim < unfold.
Subgoal 1:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall A P1, {one P A P1} -> (exists Q1, {one Q A Q1} /\ inv P1 Q1)

Subgoal 2 is:
 forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\ (forall w,
   inv (M w) (N w)))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < intros.
Subgoal 1:

  Variables: P, Q, A, P1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one P A P1}
  ============================
   exists Q1, {one Q A Q1} /\ inv P1 Q1

Subgoal 2 is:
 forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\ (forall w,
   inv (M w) (N w)))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < apply H3 to H9.
Subgoal 1:

  Variables: P, Q, A, P1, Q2
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one P A P1}
  H10 : {one Q A Q2}
  H11 : inv P1 Q2
  ============================
   exists Q1, {one Q A Q1} /\ inv P1 Q1

Subgoal 2 is:
 forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\ (forall w,
   inv (M w) (N w)))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < exists Q2.
Subgoal 1:

  Variables: P, Q, A, P1, Q2
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one P A P1}
  H10 : {one Q A Q2}
  H11 : inv P1 Q2
  ============================
   {one Q A Q2} /\ inv P1 Q2

Subgoal 2 is:
 forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\ (forall w,
   inv (M w) (N w)))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < search.
Subgoal 2:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
     (forall w, inv (M w) (N w)))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < intros.
Subgoal 2:

  Variables: P, Q, X, M
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (dn X) M}
  ============================
   exists N, {oneb Q (dn X) N} /\ (forall w, inv (M w) (N w))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < apply H4 to H9.
Subgoal 2:

  Variables: P, Q, X, M, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (dn X) M}
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   exists N, {oneb Q (dn X) N} /\ (forall w, inv (M w) (N w))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < exists N.
Subgoal 2:

  Variables: P, Q, X, M, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (dn X) M}
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   {oneb Q (dn X) N} /\ (forall w, inv (M w) (N w))

Subgoal 3 is:
 forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
   inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < search.
Subgoal 3:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
     inv (M w) (N w)))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < intros.
Subgoal 3:

  Variables: P, Q, X, M
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (up X) M}
  ============================
   exists N, {oneb Q (up X) N} /\ (nabla w, inv (M w) (N w))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < apply H5 to H9.
Subgoal 3:

  Variables: P, Q, X, M, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (up X) M}
  H10 : {oneb Q (up X) N}
  H11 : inv (M n1) (N n1)
  ============================
   exists N, {oneb Q (up X) N} /\ (nabla w, inv (M w) (N w))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < exists w\N w.
Subgoal 3:

  Variables: P, Q, X, M, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb P (up X) M}
  H10 : {oneb Q (up X) N}
  H11 : inv (M n1) (N n1)
  ============================
   {oneb Q (up X) (w\N w)} /\ (nabla w, inv (M w) (N w))

Subgoal 4 is:
 forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < search.
Subgoal 4:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ inv Q1 P1)

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < intros.
Subgoal 4:

  Variables: P, Q, A, Q1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one Q A Q1}
  ============================
   exists P1, {one P A P1} /\ inv Q1 P1

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < apply H6 to H9.
Subgoal 4:

  Variables: P, Q, A, Q1, Q2
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one Q A Q1}
  H10 : {one P A Q2}
  H11 : inv Q1 Q2
  ============================
   exists P1, {one P A P1} /\ inv Q1 P1

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < exists Q2.
Subgoal 4:

  Variables: P, Q, A, Q1, Q2
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {one Q A Q1}
  H10 : {one P A Q2}
  H11 : inv Q1 Q2
  ============================
   {one P A Q2} /\ inv Q1 Q2

Subgoal 5 is:
 forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\ (forall w,
   inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < search.
Subgoal 5:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
     (forall w, inv (N w) (M w)))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < intros.
Subgoal 5:

  Variables: P, Q, X, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (dn X) N}
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, inv (N w) (M w))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < apply H7 to H9.
Subgoal 5:

  Variables: P, Q, X, N, N1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (dn X) N}
  H10 : {oneb P (dn X) N1}
  H11 : forall w, inv (N w) (N1 w)
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, inv (N w) (M w))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < exists N1.
Subgoal 5:

  Variables: P, Q, X, N, N1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (dn X) N}
  H10 : {oneb P (dn X) N1}
  H11 : forall w, inv (N w) (N1 w)
  ============================
   {oneb P (dn X) N1} /\ (forall w, inv (N w) (N1 w))

Subgoal 6 is:
 forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
   inv (N w) (M w)))

sim-bisim < search.
Subgoal 6:

  Variables: P, Q
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  ============================
   forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
     inv (N w) (M w)))

sim-bisim < intros.
Subgoal 6:

  Variables: P, Q, X, N
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (up X) N}
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, inv (N w) (M w))

sim-bisim < apply H8 to H9.
Subgoal 6:

  Variables: P, Q, X, N, N1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (up X) N}
  H10 : {oneb P (up X) N1}
  H11 : inv (N n1) (N1 n1)
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, inv (N w) (M w))

sim-bisim < exists N1.
Subgoal 6:

  Variables: P, Q, X, N, N1
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H6 : forall A P2, {one Q A P2} -> (exists Q2, {one P A Q2} /\ inv P2 Q2)
  H7 : forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H8 : forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H9 : {oneb Q (up X) N}
  H10 : {oneb P (up X) N1}
  H11 : inv (N n1) (N1 n1)
  ============================
   {oneb P (up X) N1} /\ (nabla w, inv (N w) (N1 w))

sim-bisim < search.
Proof completed.

Abella < Set subgoals off.

Abella < Theorem inv-sim : 
forall P Q, inv P Q -> simInv P Q.


  ============================
   forall P Q, inv P Q -> simInv P Q

inv-sim < induction on 1.


  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall P Q, inv P Q @ -> simInv P Q

inv-sim < intros.

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  H1 : inv P Q @
  ============================
   simInv P Q

inv-sim < case H1.
Subgoal 1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : p P
  H3 : q Q
  ============================
   simInv P Q

5 other subgoals.

inv-sim < case H2.
Subgoal 1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  H3 : q Q
  ============================
   simInv (bang (nu (z\par (out z a null) (in z (y\out x y null))))) Q

5 other subgoals.

inv-sim < case H3.
Subgoal 1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   simInv (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (bang (taup (out x a null)))

5 other subgoals.

inv-sim < unfold.
Subgoal 1.1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall A P1,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) A P1} ->
     (exists Q1, {one (bang (taup (out x a null))) A Q1} /\ inv P1 Q1)

7 other subgoals.

inv-sim < intros.
Subgoal 1.1:

  Variables: P, Q, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) A P1}
  ============================
   exists Q1, {one (bang (taup (out x a null))) A Q1} /\ inv P1 Q1

7 other subgoals.

inv-sim < case H4.
Subgoal 1.1.1:

  Variables: P, Q, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {one (nu (z\par (out z a null) (in z (y\out x y null)))) A Q1}
  ============================
   exists Q2, {one (bang (taup (out x a null))) A Q2} /\
     inv (par Q1 (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

9 other subgoals.

inv-sim < case H5.
Subgoal 1.1.1:

  Variables: P, Q, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {one (par (out n1 a null) (in n1 (y\out x y null))) A (Q2 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) A Q1} /\
     inv (par (nu (x\Q2 x)) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H6.
Subgoal 1.1.1.1:

  Variables: P, Q, A, P1, Q1, Q2, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {one (out n1 a null) A (P2 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) A Q1} /\
     inv (par (nu (x\par (P2 x) (in x (y\out x y null)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

14 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.2:

  Variables: P, Q, A, P1, Q1, Q2, Q3
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {one (in n1 (y\out x y null)) A (Q3 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) A Q1} /\
     inv (par (nu (x\par (out x a null) (Q3 x))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

13 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.3:

  Variables: P, Q, A, P1, Q1, Q2, N, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (out n1 a null) (dn (X n1)) (M n1)}
  H8 : {oneb (in n1 (y\out x y null)) (up (X n1)) (N n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\nu (y\par (M x y) (N x y)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

12 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.4:

  Variables: P, Q, A, P1, Q1, Q2, N, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (out n1 a null) (up (X n1)) (M n1)}
  H8 : {oneb (in n1 (y\out x y null)) (dn (X n1)) (N n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\nu (y\par (M x y) (N x y)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

11 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.5:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (out n1 a null) (dn (X n1)) (M n1)}
  H8 : {one (in n1 (y\out x y null)) (up (X n1) (Y n1)) (T n1)}
  H9 : {eq (R n1) (M n1 (Y n1))}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\par (R x) (T x))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

10 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.6:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (in n1 (y\out x y null)) (dn (X n1)) (M n1)}
  H8 : {one (out n1 a null) (up (X n1) (Y n1)) (R n1)}
  H9 : {eq (T n1) (M n1 (Y n1))}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\par (R x) (T x))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H7.
Subgoal 1.1.1.6:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {one (out n1 a null) (up n1 (Y n1)) (R n1)}
  H9 : {eq (T n1) (out x (Y n1) null)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\par (R x) (T x))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H8.
Subgoal 1.1.1.6:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {eq (T n1) (out x a null)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\par null (T x))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H9.
Subgoal 1.1.1.6:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (x\par null (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < exists par (out x a null) (bang (taup (out x a null))).
Subgoal 1.1.1.6:

  Variables: P, Q, A, P1, Q1, Q2, Y, M, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   {one (bang (taup (out x a null))) tau (par (out x a null) (bang (taup (out x a null))))} /\
     inv (par (nu (x\par null (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (par (out x a null) (bang (taup (out x a null))))

9 other subgoals.

inv-sim < search.
Subgoal 1.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {one (nu (z\par (out z a null) (in z (y\out x y null)))) (up X Y) Q1}
  H6 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) M}
  H7 : {eq R (M Y)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (par Q1 R) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

8 other subgoals.

inv-sim < case H5.
Subgoal 1.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) M}
  H7 : {eq R (M Y)}
  H8 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X Y) (Q2 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\Q2 x)) R) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

8 other subgoals.

inv-sim < case H6.
Subgoal 1.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {eq R (nu (x\Q3 x Y))}
  H8 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X Y) (Q2 n1)}
  H9 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q3 n1 y)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\Q2 x)) R) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

8 other subgoals.

inv-sim < case H7.
Subgoal 1.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X Y) (Q2 n1)}
  H9 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q3 n1 y)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\Q2 x)) (nu (x\Q3 x Y))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

8 other subgoals.

inv-sim < case H8.
Subgoal 1.1.2.1:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q3 n1 y)}
  H10 : {one (out n1 a null) (up X Y) (P2 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (P2 x) (in x (y\out x y null)))) (nu (x\Q3 x Y))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H9.
Subgoal 1.1.2.1.1:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, P2, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H10 : {one (out n1 a null) (up X Y) (P2 n1)}
  H11 : {oneb (out n1 a null) (dn X) (M1 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (P2 x) (in x (y\out x y null)))) (nu (x\par (M1 x Y) (in x (y\out x y null))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

10 other subgoals.

inv-sim < case H10.
Subgoal 1.1.2.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, P2, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H10 : {one (out n1 a null) (up X Y) (P2 n1)}
  H11 : {oneb (in n1 (y\out x y null)) (dn X) (N n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (P2 x) (in x (y\out x y null)))) (nu (x\par (out x a null) (N x Y)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H10.
Subgoal 1.1.2.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, Q4
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q3 n1 y)}
  H10 : {one (in n1 (y\out x y null)) (up X Y) (Q4 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (out x a null) (Q4 x))) (nu (x\Q3 x Y))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

8 other subgoals.

inv-sim < case H9.
Subgoal 1.1.2.2.1:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, Q4, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H10 : {one (in n1 (y\out x y null)) (up X Y) (Q4 n1)}
  H11 : {oneb (out n1 a null) (dn X) (M1 n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (out x a null) (Q4 x))) (nu (x\par (M1 x Y) (in x (y\out x y null))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

9 other subgoals.

inv-sim < case H10.
Subgoal 1.1.2.2.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1, Q2, Q3, Q4, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H10 : {one (in n1 (y\out x y null)) (up X Y) (Q4 n1)}
  H11 : {oneb (in n1 (y\out x y null)) (dn X) (N n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (par (nu (x\par (out x a null) (Q4 x))) (nu (x\par (out x a null) (N x Y)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

8 other subgoals.

inv-sim < case H10.
Subgoal 1.1.3:

  Variables: P, Q, A, P1, N, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (up X) M}
  H6 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) N}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (z\par (M z) (N z))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

7 other subgoals.

inv-sim < case H5.
Subgoal 1.1.3.1:

  Variables: P, Q, A, P1, N, X, M, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) N}
  H7 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (up X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (nu (z\par (nu (x\Q1 x z)) (N z))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

8 other subgoals.

inv-sim < case H6.
Subgoal 1.1.3.1:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (up X) (y\Q1 n1 y)}
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q2 n1 y)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\Q1 x z)) (nu (x\Q2 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

8 other subgoals.

inv-sim < case H7.
Subgoal 1.1.3.1.1:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q2 n1 y)}
  H9 : {oneb (out n1 a null) (up X) (M1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (M1 x z) (in x (y\out x y null)))) (nu (x\Q2 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

9 other subgoals.

inv-sim < case H8.
Subgoal 1.1.3.1.1.1:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (out n1 a null) (up X) (M1 n1)}
  H10 : {oneb (out n1 a null) (dn X) (M2 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (M1 x z) (in x (y\out x y null)))) (nu (x\par (M2 x z) (in x (y\out x y null)))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

10 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.1.1.2:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (out n1 a null) (up X) (M1 n1)}
  H10 : {oneb (in n1 (y\out x y null)) (dn X) (N1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (M1 x z) (in x (y\out x y null)))) (nu (x\par (out x a null) (N1 x z))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

9 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.1.2:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q2 n1 y)}
  H9 : {oneb (in n1 (y\out x y null)) (up X) (N1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (out x a null) (N1 x z))) (nu (x\Q2 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

8 other subgoals.

inv-sim < case H8.
Subgoal 1.1.3.1.2.1:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, N1, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (in n1 (y\out x y null)) (up X) (N1 n1)}
  H10 : {oneb (out n1 a null) (dn X) (M1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (out x a null) (N1 x z))) (nu (x\par (M1 x z) (in x (y\out x y null)))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

9 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.1.2.2:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {oneb (in n1 (y\out x y null)) (up X) (N1 n1)}
  H10 : {oneb (in n1 (y\out x y null)) (dn X) (N2 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (nu (x\par (out x a null) (N1 x z))) (nu (x\par (out x a null) (N2 x z))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

8 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.2:

  Variables: P, Q, A, P1, N, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) N}
  H7 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X n1) (M n1)}
  ============================
   exists Q1, {one (bang (taup (out x a null))) tau Q1} /\
     inv (par (nu (z\par (M z) (N z))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q1

7 other subgoals.

inv-sim < case H6.
Subgoal 1.1.3.2:

  Variables: P, Q, A, P1, N, X, M, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X n1) (M n1)}
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (nu (z\par (M z) (nu (x\Q1 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

7 other subgoals.

inv-sim < case H7.
Subgoal 1.1.3.2.1:

  Variables: P, Q, A, P1, N, X, M, Q1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q1 n1 y)}
  H9 : {one (out n1 a null) (up X n1) (P2 n1)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (nu (z\par (par (P2 z) (in z (y\out x y null))) (nu (x\Q1 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

8 other subgoals.

inv-sim < case H8.
Subgoal 1.1.3.2.1.1:

  Variables: P, Q, A, P1, N, X, M, Q1, P2, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {one (out n1 a null) (up X n1) (P2 n1)}
  H10 : {oneb (out n1 a null) (dn X) (M1 n1)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (nu (z\par (par (P2 z) (in z (y\out x y null))) (nu (x\par (M1 x z) (in x (y\out x y null)))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

9 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.2.1.2:

  Variables: P, Q, A, P1, N, X, M, Q1, P2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {one (out n1 a null) (up X n1) (P2 n1)}
  H10 : {oneb (in n1 (y\out x y null)) (dn X) (N1 n1)}
  ============================
   exists Q2, {one (bang (taup (out x a null))) tau Q2} /\
     inv (par (nu (z\par (par (P2 z) (in z (y\out x y null))) (nu (x\par (out x a null) (N1 x z))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q2

8 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.2.2:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H8 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q1 n1 y)}
  H9 : {one (in n1 (y\out x y null)) (up X n1) (Q2 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (par (out z a null) (Q2 z)) (nu (x\Q1 x z)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

7 other subgoals.

inv-sim < case H8.
Subgoal 1.1.3.2.2.1:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {one (in n1 (y\out x y null)) (up X n1) (Q2 n1)}
  H10 : {oneb (out n1 a null) (dn X) (M1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (par (out z a null) (Q2 z)) (nu (x\par (M1 x z) (in x (y\out x y null)))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

8 other subgoals.

inv-sim < case H9.
Subgoal 1.1.3.2.2.2:

  Variables: P, Q, A, P1, N, X, M, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H9 : {one (in n1 (y\out x y null)) (up X n1) (Q2 n1)}
  H10 : {oneb (in n1 (y\out x y null)) (dn X) (N1 n1)}
  ============================
   exists Q3, {one (bang (taup (out x a null))) tau Q3} /\
     inv (par (nu (z\par (par (out z a null) (Q2 z)) (nu (x\par (out x a null) (N1 x z))))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) Q3

7 other subgoals.

inv-sim < case H9.
Subgoal 1.2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall X M,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (dn X) M} ->
     (exists N, {oneb (bang (taup (out x a null))) (dn X) N} /\ (forall w,
     inv (M w) (N w)))

6 other subgoals.

inv-sim < intros.
Subgoal 1.2:

  Variables: P, Q, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (dn X) M}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (dn X) N} /\ (forall w,
     inv (M w) (N w))

6 other subgoals.

inv-sim < case H4.
Subgoal 1.2:

  Variables: P, Q, X, M, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (dn X) M1}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (dn X) N} /\ (forall w,
     inv (par (M1 w) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

6 other subgoals.

inv-sim < case H5.
Subgoal 1.2:

  Variables: P, Q, X, M, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (dn X) (y\Q1 n1 y)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (dn X) N} /\ (forall w,
     inv (par (nu (x\Q1 x w)) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

6 other subgoals.

inv-sim < case H6.
Subgoal 1.2.1:

  Variables: P, Q, X, M, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (out n1 a null) (dn X) (M2 n1)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (dn X) N} /\ (forall w,
     inv (par (nu (x\par (M2 x w) (in x (y\out x y null)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

7 other subgoals.

inv-sim < case H7.
Subgoal 1.2.2:

  Variables: P, Q, X, M, M1, Q1, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (in n1 (y\out x y null)) (dn X) (N n1)}
  ============================
   exists N1, {oneb (bang (taup (out x a null))) (dn X) N1} /\ (forall w,
     inv (par (nu (x\par (out x a null) (N x w))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N1 w))

6 other subgoals.

inv-sim < case H7.
Subgoal 1.3:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall X M,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (up X) M} ->
     (exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (M w) (N w)))

5 other subgoals.

inv-sim < intros.
Subgoal 1.3:

  Variables: P, Q, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (up X) M}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (M w) (N w))

5 other subgoals.

inv-sim < case H4.
Subgoal 1.3:

  Variables: P, Q, X, M, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (nu (z\par (out z a null) (in z (y\out x y null)))) (up X) M1}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (M1 w) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

5 other subgoals.

inv-sim < case H5.
Subgoal 1.3.1:

  Variables: P, Q, X, M, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {oneb (par (out n1 a null) (in n1 (y\out x y null))) (up X) (y\Q1 n1 y)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (nu (x\Q1 x w)) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

6 other subgoals.

inv-sim < case H6.
Subgoal 1.3.1.1:

  Variables: P, Q, X, M, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (out n1 a null) (up X) (M2 n1)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (nu (x\par (M2 x w) (in x (y\out x y null)))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

7 other subgoals.

inv-sim < case H7.
Subgoal 1.3.1.2:

  Variables: P, Q, X, M, M1, Q1, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {oneb (in n1 (y\out x y null)) (up X) (N n1)}
  ============================
   exists N1, {oneb (bang (taup (out x a null))) (up X) N1} /\ (nabla w,
     inv (par (nu (x\par (out x a null) (N x w))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N1 w))

6 other subgoals.

inv-sim < case H7.
Subgoal 1.3.2:

  Variables: P, Q, X, M, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H6 : {one (par (out n1 a null) (in n1 (y\out x y null))) (up X n1) (M1 n1)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (M1 w) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

5 other subgoals.

inv-sim < case H6.
Subgoal 1.3.2.1:

  Variables: P, Q, X, M, M1, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {one (out n1 a null) (up X n1) (P1 n1)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (par (P1 w) (in w (y\out x y null))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

6 other subgoals.

inv-sim < case H7.
Subgoal 1.3.2.2:

  Variables: P, Q, X, M, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H7 : {one (in n1 (y\out x y null)) (up X n1) (Q1 n1)}
  ============================
   exists N, {oneb (bang (taup (out x a null))) (up X) N} /\ (nabla w,
     inv (par (par (out w a null) (Q1 w)) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))) (N w))

5 other subgoals.

inv-sim < case H7.
Subgoal 2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : q P
  H3 : p Q
  ============================
   simInv P Q

4 other subgoals.

inv-sim < case H2.
Subgoal 2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  H3 : p Q
  ============================
   simInv (bang (taup (out x a null))) Q

4 other subgoals.

inv-sim < case H3.
Subgoal 2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   simInv (bang (taup (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null)))))

4 other subgoals.

inv-sim < unfold.
Subgoal 2.1:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall A P1, {one (bang (taup (out x a null))) A P1} -> (exists Q1,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) A Q1} /\
     inv P1 Q1)

6 other subgoals.

inv-sim < intros.
Subgoal 2.1:

  Variables: P, Q, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {one (bang (taup (out x a null))) A P1}
  ============================
   exists Q1,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) A Q1} /\
     inv P1 Q1

6 other subgoals.

inv-sim < case H4.
Subgoal 2.1.1:

  Variables: P, Q, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {one (taup (out x a null)) A Q1}
  ============================
   exists Q2,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) A Q2} /\
     inv (par Q1 (bang (taup (out x a null)))) Q2

8 other subgoals.

inv-sim < case H5.
Subgoal 2.1.1:

  Variables: P, Q, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   exists Q2,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) tau Q2} /\
     inv (par (out x a null) (bang (taup (out x a null)))) Q2

8 other subgoals.

inv-sim < exists par (nu (z\par null (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null))))).
Subgoal 2.1.1:

  Variables: P, Q, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) tau (par (nu (z\par null (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null))))))} /\
     inv (par (out x a null) (bang (taup (out x a null)))) (par (nu (z\par null (out x a null))) (bang (nu (z\par (out z a null) (in z (y\out x y null))))))

8 other subgoals.

inv-sim < search.
Subgoal 2.1.2:

  Variables: P, Q, A, P1, Y, M, R, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {one (taup (out x a null)) (up X Y) Q1}
  H6 : {oneb (taup (out x a null)) (dn X) M}
  H7 : {eq R (M Y)}
  ============================
   exists Q2,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) tau Q2} /\
     inv (par (par Q1 R) (bang (taup (out x a null)))) Q2

7 other subgoals.

inv-sim < case H5.
Subgoal 2.1.3:

  Variables: P, Q, A, P1, N, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (taup (out x a null)) (up X) M}
  H6 : {oneb (taup (out x a null)) (dn X) N}
  ============================
   exists Q1,
     {one (bang (nu (z\par (out z a null) (in z (y\out x y null))))) tau Q1} /\
     inv (par (nu (z\par (M z) (N z))) (bang (taup (out x a null)))) Q1

6 other subgoals.

inv-sim < case H5.
Subgoal 2.2:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall X M, {oneb (bang (taup (out x a null))) (dn X) M} -> (exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (dn X) N} /\
     (forall w, inv (M w) (N w)))

5 other subgoals.

inv-sim < intros.
Subgoal 2.2:

  Variables: P, Q, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {oneb (bang (taup (out x a null))) (dn X) M}
  ============================
   exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (dn X) N} /\
     (forall w, inv (M w) (N w))

5 other subgoals.

inv-sim < case H4.
Subgoal 2.2:

  Variables: P, Q, X, M, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (taup (out x a null)) (dn X) M1}
  ============================
   exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (dn X) N} /\
     (forall w, inv (par (M1 w) (bang (taup (out x a null)))) (N w))

5 other subgoals.

inv-sim < case H5.
Subgoal 2.3:

  Variables: P, Q
  IH : forall P Q, inv P Q * -> simInv P Q
  ============================
   forall X M, {oneb (bang (taup (out x a null))) (up X) M} -> (exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (up X) N} /\
     (nabla w, inv (M w) (N w)))

4 other subgoals.

inv-sim < intros.
Subgoal 2.3:

  Variables: P, Q, X, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H4 : {oneb (bang (taup (out x a null))) (up X) M}
  ============================
   exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (up X) N} /\
     (nabla w, inv (M w) (N w))

4 other subgoals.

inv-sim < case H4.
Subgoal 2.3:

  Variables: P, Q, X, M, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H5 : {oneb (taup (out x a null)) (up X) M1}
  ============================
   exists N,
     {oneb (bang (nu (z\par (out z a null) (in z (y\out x y null))))) (up X) N} /\
     (nabla w, inv (par (M1 w) (bang (taup (out x a null)))) (N w))

4 other subgoals.

inv-sim < case H5.
Subgoal 3:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  ============================
   simInv (par (nu (z\par null null)) M) (par null N)

3 other subgoals.

inv-sim < unfold.
Subgoal 3.1:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  ============================
   forall A P1, {one (par (nu (z\par null null)) M) A P1} -> (exists Q1,
     {one (par null N) A Q1} /\ inv P1 Q1)

5 other subgoals.

inv-sim < intros.
Subgoal 3.1:

  Variables: P, Q, N, M, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : {one (par (nu (z\par null null)) M) A P1}
  ============================
   exists Q1, {one (par null N) A Q1} /\ inv P1 Q1

5 other subgoals.

inv-sim < case H3.
Subgoal 3.1.1:

  Variables: P, Q, N, M, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one (nu (z\par null null)) A P2}
  ============================
   exists Q1, {one (par null N) A Q1} /\ inv (par P2 M) Q1

10 other subgoals.

inv-sim < case H4.
Subgoal 3.1.1:

  Variables: P, Q, N, M, A, P1, P2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one (par null null) A (Q1 n1)}
  ============================
   exists Q2, {one (par null N) A Q2} /\ inv (par (nu (x\Q1 x)) M) Q2

10 other subgoals.

inv-sim < case H5.
Subgoal 3.1.1.1:

  Variables: P, Q, N, M, A, P1, P2, Q1, P3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {one null A (P3 n1)}
  ============================
   exists Q2, {one (par null N) A Q2} /\
     inv (par (nu (x\par (P3 x) null)) M) Q2

15 other subgoals.

inv-sim < case H6.
Subgoal 3.1.1.2:

  Variables: P, Q, N, M, A, P1, P2, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {one null A (Q2 n1)}
  ============================
   exists Q1, {one (par null N) A Q1} /\
     inv (par (nu (x\par null (Q2 x))) M) Q1

14 other subgoals.

inv-sim < case H6.
Subgoal 3.1.1.3:

  Variables: P, Q, N, M, A, P1, P2, Q1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (dn (X n1)) (M1 n1)}
  H7 : {oneb null (up (X n1)) (N1 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (par (nu (x\nu (y\par (M1 x y) (N1 x y)))) M) Q2

13 other subgoals.

inv-sim < case H6.
Subgoal 3.1.1.4:

  Variables: P, Q, N, M, A, P1, P2, Q1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (up (X n1)) (M1 n1)}
  H7 : {oneb null (dn (X n1)) (N1 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (par (nu (x\nu (y\par (M1 x y) (N1 x y)))) M) Q2

12 other subgoals.

inv-sim < case H6.
Subgoal 3.1.1.5:

  Variables: P, Q, N, M, A, P1, P2, Q1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (dn (X n1)) (M1 n1)}
  H7 : {one null (up (X n1) (Y n1)) (T n1)}
  H8 : {eq (R n1) (M1 n1 (Y n1))}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (par (nu (x\par (R x) (T x))) M) Q2

11 other subgoals.

inv-sim < case H6.
Subgoal 3.1.1.6:

  Variables: P, Q, N, M, A, P1, P2, Q1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (dn (X n1)) (M1 n1)}
  H7 : {one null (up (X n1) (Y n1)) (R n1)}
  H8 : {eq (T n1) (M1 n1 (Y n1))}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (par (nu (x\par (R x) (T x))) M) Q2

10 other subgoals.

inv-sim < case H6.
Subgoal 3.1.2:

  Variables: P, Q, N, M, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one M A Q1}
  ============================
   exists Q2, {one (par null N) A Q2} /\
     inv (par (nu (z\par null null)) Q1) Q2

9 other subgoals.

inv-sim < apply IH to H2.
Subgoal 3.1.2:

  Variables: P, Q, N, M, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one M A Q1}
  H5 : simInv M N
  ============================
   exists Q2, {one (par null N) A Q2} /\
     inv (par (nu (z\par null null)) Q1) Q2

9 other subgoals.

inv-sim < case H5.
Subgoal 3.1.2:

  Variables: P, Q, N, M, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists Q2, {one (par null N) A Q2} /\
     inv (par (nu (z\par null null)) Q1) Q2

9 other subgoals.

inv-sim < apply H6 to H4.
Subgoal 3.1.2:

  Variables: P, Q, N, M, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {one N A Q2}
  H10 : inv Q1 Q2
  ============================
   exists Q2, {one (par null N) A Q2} /\
     inv (par (nu (z\par null null)) Q1) Q2

9 other subgoals.

inv-sim < exists par null Q2.
Subgoal 3.1.2:

  Variables: P, Q, N, M, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {one N A Q2}
  H10 : inv Q1 Q2
  ============================
   {one (par null N) A (par null Q2)} /\
     inv (par (nu (z\par null null)) Q1) (par null Q2)

9 other subgoals.

inv-sim < search.
Subgoal 3.1.3:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb (nu (z\par null null)) (dn X) M1}
  H5 : {oneb M (up X) N1}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (nu (y\par (M1 y) (N1 y))) Q1

8 other subgoals.

inv-sim < case H4.
Subgoal 3.1.3:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H6 : {oneb (par null null) (dn X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\Q1 x y)) (N1 y))) Q2

8 other subgoals.

inv-sim < case H6.
Subgoal 3.1.3.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H7 : {oneb null (dn X) (M2 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\par (M2 x y) null)) (N1 y))) Q2

9 other subgoals.

inv-sim < case H7.
Subgoal 3.1.3.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H7 : {oneb null (dn X) (N2 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\par null (N2 x y))) (N1 y))) Q2

8 other subgoals.

inv-sim < case H7.
Subgoal 3.1.4:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb (nu (z\par null null)) (up X) M1}
  H5 : {oneb M (dn X) N1}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (nu (y\par (M1 y) (N1 y))) Q1

7 other subgoals.

inv-sim < case H4.
Subgoal 3.1.4.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : {oneb (par null null) (up X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\Q1 x y)) (N1 y))) Q2

8 other subgoals.

inv-sim < case H6.
Subgoal 3.1.4.1.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H7 : {oneb null (up X) (M2 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\par (M2 x y) null)) (N1 y))) Q2

9 other subgoals.

inv-sim < case H7.
Subgoal 3.1.4.1.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H7 : {oneb null (up X) (N2 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (nu (x\par null (N2 x y))) (N1 y))) Q2

8 other subgoals.

inv-sim < case H7.
Subgoal 3.1.4.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : {one (par null null) (up X n1) (M1 n1)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (nu (y\par (M1 y) (N1 y))) Q1

7 other subgoals.

inv-sim < case H6.
Subgoal 3.1.4.2.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H7 : {one null (up X n1) (P2 n1)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\
     inv (nu (y\par (par (P2 y) null) (N1 y))) Q1

8 other subgoals.

inv-sim < case H7.
Subgoal 3.1.4.2.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H7 : {one null (up X n1) (Q1 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (nu (y\par (par null (Q1 y)) (N1 y))) Q2

7 other subgoals.

inv-sim < case H7.
Subgoal 3.1.5:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb (nu (z\par null null)) (dn X) M1}
  H5 : {one M (up X Y) T}
  H6 : {eq R (M1 Y)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (par R T) Q1

6 other subgoals.

inv-sim < case H4.
Subgoal 3.1.5:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M (up X Y) T}
  H6 : {eq R (nu (x\Q1 x Y))}
  H7 : {oneb (par null null) (dn X) (y\Q1 n1 y)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (par R T) Q1

6 other subgoals.

inv-sim < case H7.
Subgoal 3.1.5.1:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M (up X Y) T}
  H6 : {eq R (nu (x\par (M2 x Y) null))}
  H8 : {oneb null (dn X) (M2 n1)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (par R T) Q1

7 other subgoals.

inv-sim < case H8.
Subgoal 3.1.5.2:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M (up X Y) T}
  H6 : {eq R (nu (x\par null (N1 x Y)))}
  H8 : {oneb null (dn X) (N1 n1)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (par R T) Q1

6 other subgoals.

inv-sim < case H8.
Subgoal 3.1.6:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) M1}
  H5 : {one (nu (z\par null null)) (up X Y) R}
  H6 : {eq T (M1 Y)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\ inv (par R T) Q1

5 other subgoals.

inv-sim < case H5.
Subgoal 3.1.6:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) M1}
  H6 : {eq T (M1 Y)}
  H7 : {one (par null null) (up X Y) (Q1 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\ inv (par (nu (x\Q1 x)) T) Q2

5 other subgoals.

inv-sim < case H7.
Subgoal 3.1.6.1:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) M1}
  H6 : {eq T (M1 Y)}
  H8 : {one null (up X Y) (P2 n1)}
  ============================
   exists Q2, {one (par null N) tau Q2} /\
     inv (par (nu (x\par (P2 x) null)) T) Q2

6 other subgoals.

inv-sim < case H8.
Subgoal 3.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) M1}
  H6 : {eq T (M1 Y)}
  H8 : {one null (up X Y) (Q2 n1)}
  ============================
   exists Q1, {one (par null N) tau Q1} /\
     inv (par (nu (x\par null (Q2 x))) T) Q1

5 other subgoals.

inv-sim < case H8.
Subgoal 3.2:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  ============================
   forall X M1, {oneb (par (nu (z\par null null)) M) (dn X) M1} ->
     (exists N1, {oneb (par null N) (dn X) N1} /\ (forall w,
     inv (M1 w) (N1 w)))

4 other subgoals.

inv-sim < intros.
Subgoal 3.2:

  Variables: P, Q, N, M, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : {oneb (par (nu (z\par null null)) M) (dn X) M1}
  ============================
   exists N1, {oneb (par null N) (dn X) N1} /\ (forall w, inv (M1 w) (N1 w))

4 other subgoals.

inv-sim < case H3.
Subgoal 3.2.1:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb (nu (z\par null null)) (dn X) M2}
  ============================
   exists N1, {oneb (par null N) (dn X) N1} /\ (forall w,
     inv (par (M2 w) M) (N1 w))

5 other subgoals.

inv-sim < case H4.
Subgoal 3.2.1:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb (par null null) (dn X) (y\Q1 n1 y)}
  ============================
   exists N1, {oneb (par null N) (dn X) N1} /\ (forall w,
     inv (par (nu (x\Q1 x w)) M) (N1 w))

5 other subgoals.

inv-sim < case H5.
Subgoal 3.2.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1, M3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (dn X) (M3 n1)}
  ============================
   exists N1, {oneb (par null N) (dn X) N1} /\ (forall w,
     inv (par (nu (x\par (M3 x w) null)) M) (N1 w))

6 other subgoals.

inv-sim < case H6.
Subgoal 3.2.1.2:

  Variables: P, Q, N, M, X, M1, M2, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (dn X) (N1 n1)}
  ============================
   exists N2, {oneb (par null N) (dn X) N2} /\ (forall w,
     inv (par (nu (x\par null (N1 x w))) M) (N2 w))

5 other subgoals.

inv-sim < case H6.
Subgoal 3.2.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  ============================
   exists N2, {oneb (par null N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

4 other subgoals.

inv-sim < apply IH to H2.
Subgoal 3.2.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H5 : simInv M N
  ============================
   exists N2, {oneb (par null N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

4 other subgoals.

inv-sim < case H5.
Subgoal 3.2.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists N2, {oneb (par null N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

4 other subgoals.

inv-sim < apply H7 to H4.
Subgoal 3.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   exists N2, {oneb (par null N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

4 other subgoals.

inv-sim < exists w\par null (N2 w).
Subgoal 3.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par null N) (dn X) (w\par null (N2 w))} /\ (forall w,
     inv (par (nu (z\par null null)) (N1 w)) (par null (N2 w)))

4 other subgoals.

inv-sim < split.
Subgoal 3.2.2.1:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par null N) (dn X) (w\par null (N2 w))}

5 other subgoals.

inv-sim < search.
Subgoal 3.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   forall w, inv (par (nu (z\par null null)) (N1 w)) (par null (N2 w))

4 other subgoals.

inv-sim < intros.
Subgoal 3.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   inv (par (nu (z\par null null)) (N1 w)) (par null (N2 w))

4 other subgoals.

inv-sim < apply H10 with w = w.
Subgoal 3.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  H11 : inv (N1 w) (N2 w)
  ============================
   inv (par (nu (z\par null null)) (N1 w)) (par null (N2 w))

4 other subgoals.

inv-sim < search.
Subgoal 3.3:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  ============================
   forall X M1, {oneb (par (nu (z\par null null)) M) (up X) M1} ->
     (exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (M1 w) (N1 w)))

3 other subgoals.

inv-sim < intros.
Subgoal 3.3:

  Variables: P, Q, N, M, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : {oneb (par (nu (z\par null null)) M) (up X) M1}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w, inv (M1 w) (N1 w))

3 other subgoals.

inv-sim < case H3.
Subgoal 3.3.1:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb (nu (z\par null null)) (up X) M2}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (M2 w) M) (N1 w))

4 other subgoals.

inv-sim < case H4.
Subgoal 3.3.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb (par null null) (up X) (y\Q1 n1 y)}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (nu (x\Q1 x w)) M) (N1 w))

5 other subgoals.

inv-sim < case H5.
Subgoal 3.3.1.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1, M3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (up X) (M3 n1)}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (nu (x\par (M3 x w) null)) M) (N1 w))

6 other subgoals.

inv-sim < case H6.
Subgoal 3.3.1.1.2:

  Variables: P, Q, N, M, X, M1, M2, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {oneb null (up X) (N1 n1)}
  ============================
   exists N2, {oneb (par null N) (up X) N2} /\ (nabla w,
     inv (par (nu (x\par null (N1 x w))) M) (N2 w))

5 other subgoals.

inv-sim < case H6.
Subgoal 3.3.1.2:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one (par null null) (up X n1) (M2 n1)}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (M2 w) M) (N1 w))

4 other subgoals.

inv-sim < case H5.
Subgoal 3.3.1.2.1:

  Variables: P, Q, N, M, X, M1, M2, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {one null (up X n1) (P1 n1)}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (par (P1 w) null) M) (N1 w))

5 other subgoals.

inv-sim < case H6.
Subgoal 3.3.1.2.2:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H6 : {one null (up X n1) (Q1 n1)}
  ============================
   exists N1, {oneb (par null N) (up X) N1} /\ (nabla w,
     inv (par (par null (Q1 w)) M) (N1 w))

4 other subgoals.

inv-sim < case H6.
Subgoal 3.3.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (up X) N1}
  ============================
   exists N2, {oneb (par null N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

3 other subgoals.

inv-sim < apply IH to H2.
Subgoal 3.3.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (up X) N1}
  H5 : simInv M N
  ============================
   exists N2, {oneb (par null N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

3 other subgoals.

inv-sim < case H5.
Subgoal 3.3.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists N2, {oneb (par null N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

3 other subgoals.

inv-sim < apply H8 to H4.
Subgoal 3.3.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   exists N2, {oneb (par null N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null null)) (N1 w)) (N2 w))

3 other subgoals.

inv-sim < exists w\par null (N2 w).
Subgoal 3.3.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H4 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   {oneb (par null N) (up X) (w\par null (N2 w))} /\ (nabla w,
     inv (par (nu (z\par null null)) (N1 w)) (par null (N2 w)))

3 other subgoals.

inv-sim < search.
Subgoal 4:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   simInv (par null N) (par (nu (z\par null null)) M)

2 other subgoals.

inv-sim < unfold.
Subgoal 4.1:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall A P1, {one (par null N) A P1} -> (exists Q1,
     {one (par (nu (z\par null null)) M) A Q1} /\ inv P1 Q1)

4 other subgoals.

inv-sim < intros.
Subgoal 4.1:

  Variables: P, Q, M, N, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {one (par null N) A P1}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) A Q1} /\ inv P1 Q1

4 other subgoals.

inv-sim < case H3.
Subgoal 4.1.1:

  Variables: P, Q, M, N, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one null A P2}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) A Q1} /\ inv (par P2 N) Q1

9 other subgoals.

inv-sim < case H4.
Subgoal 4.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  ============================
   exists Q2, {one (par (nu (z\par null null)) M) A Q2} /\
     inv (par null Q1) Q2

8 other subgoals.

inv-sim < apply IH to H2.
Subgoal 4.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H5 : simInv N M
  ============================
   exists Q2, {one (par (nu (z\par null null)) M) A Q2} /\
     inv (par null Q1) Q2

8 other subgoals.

inv-sim < case H5.
Subgoal 4.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists Q2, {one (par (nu (z\par null null)) M) A Q2} /\
     inv (par null Q1) Q2

8 other subgoals.

inv-sim < apply H6 to H4.
Subgoal 4.1.2:

  Variables: P, Q, M, N, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {one M A Q2}
  H10 : inv Q1 Q2
  ============================
   exists Q2, {one (par (nu (z\par null null)) M) A Q2} /\
     inv (par null Q1) Q2

8 other subgoals.

inv-sim < exists par (nu (z\par null null)) Q2.
Subgoal 4.1.2:

  Variables: P, Q, M, N, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {one M A Q2}
  H10 : inv Q1 Q2
  ============================
   {one (par (nu (z\par null null)) M) A (par (nu (z\par null null)) Q2)} /\
     inv (par null Q1) (par (nu (z\par null null)) Q2)

8 other subgoals.

inv-sim < search.
Subgoal 4.1.3:

  Variables: P, Q, M, N, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb null (dn X) M1}
  H5 : {oneb N (up X) N1}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

7 other subgoals.

inv-sim < case H4.
Subgoal 4.1.4:

  Variables: P, Q, M, N, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb null (up X) M1}
  H5 : {oneb N (dn X) N1}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

6 other subgoals.

inv-sim < case H4.
Subgoal 4.1.5:

  Variables: P, Q, M, N, A, P1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb null (dn X) M1}
  H5 : {one N (up X Y) T}
  H6 : {eq R (M1 Y)}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) tau Q1} /\ inv (par R T) Q1

5 other subgoals.

inv-sim < case H4.
Subgoal 4.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) M1}
  H5 : {one null (up X Y) R}
  H6 : {eq T (M1 Y)}
  ============================
   exists Q1, {one (par (nu (z\par null null)) M) tau Q1} /\ inv (par R T) Q1

4 other subgoals.

inv-sim < case H5.
Subgoal 4.2:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall X M1, {oneb (par null N) (dn X) M1} -> (exists N,
     {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (M1 w) (N w)))

3 other subgoals.

inv-sim < intros.
Subgoal 4.2:

  Variables: P, Q, M, N, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {oneb (par null N) (dn X) M1}
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (M1 w) (N w))

3 other subgoals.

inv-sim < case H3.
Subgoal 4.2.1:

  Variables: P, Q, M, N, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb null (dn X) M2}
  ============================
   exists N1, {oneb (par (nu (z\par null null)) M) (dn X) N1} /\ (forall w,
     inv (par (M2 w) N) (N1 w))

4 other subgoals.

inv-sim < case H4.
Subgoal 4.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (par null (N1 w)) (N w))

3 other subgoals.

inv-sim < apply IH to H2.
Subgoal 4.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H5 : simInv N M
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (par null (N1 w)) (N w))

3 other subgoals.

inv-sim < case H5.
Subgoal 4.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (par null (N1 w)) (N w))

3 other subgoals.

inv-sim < apply H7 to H4.
Subgoal 4.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (dn X) N} /\ (forall w,
     inv (par null (N1 w)) (N w))

3 other subgoals.

inv-sim < exists w\par (nu (z\par null null)) (N2 w).
Subgoal 4.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (nu (z\par null null)) M) (dn X) (w\par (nu (z\par null null)) (N2 w))} /\
     (forall w, inv (par null (N1 w)) (par (nu (z\par null null)) (N2 w)))

3 other subgoals.

inv-sim < split.
Subgoal 4.2.2.1:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (nu (z\par null null)) M) (dn X) (w\par (nu (z\par null null)) (N2 w))}

4 other subgoals.

inv-sim < search.
Subgoal 4.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   forall w, inv (par null (N1 w)) (par (nu (z\par null null)) (N2 w))

3 other subgoals.

inv-sim < intros.
Subgoal 4.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   inv (par null (N1 w)) (par (nu (z\par null null)) (N2 w))

3 other subgoals.

inv-sim < apply H10 with w = w.
Subgoal 4.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  H11 : inv (N1 w) (N2 w)
  ============================
   inv (par null (N1 w)) (par (nu (z\par null null)) (N2 w))

3 other subgoals.

inv-sim < search.
Subgoal 4.3:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall X M1, {oneb (par null N) (up X) M1} -> (exists N,
     {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (M1 w) (N w)))

2 other subgoals.

inv-sim < intros.
Subgoal 4.3:

  Variables: P, Q, M, N, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {oneb (par null N) (up X) M1}
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (M1 w) (N w))

2 other subgoals.

inv-sim < case H3.
Subgoal 4.3.1:

  Variables: P, Q, M, N, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb null (up X) M2}
  ============================
   exists N1, {oneb (par (nu (z\par null null)) M) (up X) N1} /\ (nabla w,
     inv (par (M2 w) N) (N1 w))

3 other subgoals.

inv-sim < case H4.
Subgoal 4.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (par null (N1 w)) (N w))

2 other subgoals.

inv-sim < apply IH to H2.
Subgoal 4.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H5 : simInv N M
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (par null (N1 w)) (N w))

2 other subgoals.

inv-sim < case H5.
Subgoal 4.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (par null (N1 w)) (N w))

2 other subgoals.

inv-sim < apply H8 to H4.
Subgoal 4.3.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   exists N, {oneb (par (nu (z\par null null)) M) (up X) N} /\ (nabla w,
     inv (par null (N1 w)) (N w))

2 other subgoals.

inv-sim < exists w\par (nu (z\par null null)) (N2 w).
Subgoal 4.3.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   {oneb (par (nu (z\par null null)) M) (up X) (w\par (nu (z\par null null)) (N2 w))} /\
     (nabla w, inv (par null (N1 w)) (par (nu (z\par null null)) (N2 w)))

2 other subgoals.

inv-sim < search.
Subgoal 5:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  ============================
   simInv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

1 other subgoal.

inv-sim < apply IH to H2.
Subgoal 5:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   simInv (par (nu (z\par null (out x a null))) M) (par (out x a null) N)

1 other subgoal.

inv-sim < unfold.
Subgoal 5.1:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   forall A P1, {one (par (nu (z\par null (out x a null))) M) A P1} ->
     (exists Q1, {one (par (out x a null) N) A Q1} /\ inv P1 Q1)

3 other subgoals.

inv-sim < intros.
Subgoal 5.1:

  Variables: P, Q, N, M, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H4 : {one (par (nu (z\par null (out x a null))) M) A P1}
  ============================
   exists Q1, {one (par (out x a null) N) A Q1} /\ inv P1 Q1

3 other subgoals.

inv-sim < case H4.
Subgoal 5.1.1:

  Variables: P, Q, N, M, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {one (nu (z\par null (out x a null))) A P2}
  ============================
   exists Q1, {one (par (out x a null) N) A Q1} /\ inv (par P2 M) Q1

8 other subgoals.

inv-sim < case H5.
Subgoal 5.1.1:

  Variables: P, Q, N, M, A, P1, P2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {one (par null (out x a null)) A (Q1 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) A Q2} /\
     inv (par (nu (x\Q1 x)) M) Q2

8 other subgoals.

inv-sim < case H6.
Subgoal 5.1.1.1:

  Variables: P, Q, N, M, A, P1, P2, Q1, P3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {one null A (P3 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) A Q2} /\
     inv (par (nu (x\par (P3 x) (out x a null))) M) Q2

13 other subgoals.

inv-sim < case H7.
Subgoal 5.1.1.2:

  Variables: P, Q, N, M, A, P1, P2, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {one (out x a null) A (Q2 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) A Q1} /\
     inv (par (nu (x\par null (Q2 x))) M) Q1

12 other subgoals.

inv-sim < case H7.
Subgoal 5.1.1.2:

  Variables: P, Q, N, M, A, P1, P2, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   exists Q1, {one (par (out x a null) N) (up x a) Q1} /\
     inv (par (nu (x\par null null)) M) Q1

12 other subgoals.

inv-sim < exists par null N.
Subgoal 5.1.1.2:

  Variables: P, Q, N, M, A, P1, P2, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   {one (par (out x a null) N) (up x a) (par null N)} /\
     inv (par (nu (x\par null null)) M) (par null N)

12 other subgoals.

inv-sim < search.
Subgoal 5.1.1.3:

  Variables: P, Q, N, M, A, P1, P2, Q1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb null (dn (X n1)) (M1 n1)}
  H8 : {oneb (out x a null) (up (X n1)) (N1 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\nu (y\par (M1 x y) (N1 x y)))) M) Q2

11 other subgoals.

inv-sim < case H7.
Subgoal 5.1.1.4:

  Variables: P, Q, N, M, A, P1, P2, Q1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb null (up (X n1)) (M1 n1)}
  H8 : {oneb (out x a null) (dn (X n1)) (N1 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\nu (y\par (M1 x y) (N1 x y)))) M) Q2

10 other subgoals.

inv-sim < case H7.
Subgoal 5.1.1.5:

  Variables: P, Q, N, M, A, P1, P2, Q1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb null (dn (X n1)) (M1 n1)}
  H8 : {one (out x a null) (up (X n1) (Y n1)) (T n1)}
  H9 : {eq (R n1) (M1 n1 (Y n1))}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\par (R x) (T x))) M) Q2

9 other subgoals.

inv-sim < case H7.
Subgoal 5.1.1.6:

  Variables: P, Q, N, M, A, P1, P2, Q1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb (out x a null) (dn (X n1)) (M1 n1)}
  H8 : {one null (up (X n1) (Y n1)) (R n1)}
  H9 : {eq (T n1) (M1 n1 (Y n1))}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\par (R x) (T x))) M) Q2

8 other subgoals.

inv-sim < case H8.
Subgoal 5.1.2:

  Variables: P, Q, N, M, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {one M A Q1}
  ============================
   exists Q2, {one (par (out x a null) N) A Q2} /\
     inv (par (nu (z\par null (out x a null))) Q1) Q2

7 other subgoals.

inv-sim < case H3.
Subgoal 5.1.2:

  Variables: P, Q, N, M, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists Q2, {one (par (out x a null) N) A Q2} /\
     inv (par (nu (z\par null (out x a null))) Q1) Q2

7 other subgoals.

inv-sim < apply H6 to H5.
Subgoal 5.1.2:

  Variables: P, Q, N, M, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {one N A Q2}
  H10 : inv Q1 Q2
  ============================
   exists Q2, {one (par (out x a null) N) A Q2} /\
     inv (par (nu (z\par null (out x a null))) Q1) Q2

7 other subgoals.

inv-sim < exists par (out x a null) Q2.
Subgoal 5.1.2:

  Variables: P, Q, N, M, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {one M A Q1}
  H6 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {one N A Q2}
  H10 : inv Q1 Q2
  ============================
   {one (par (out x a null) N) A (par (out x a null) Q2)} /\
     inv (par (nu (z\par null (out x a null))) Q1) (par (out x a null) Q2)

7 other subgoals.

inv-sim < search.
Subgoal 5.1.3:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb (nu (z\par null (out x a null))) (dn X) M1}
  H6 : {oneb M (up X) N1}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

6 other subgoals.

inv-sim < case H5.
Subgoal 5.1.3:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (up X) N1}
  H7 : {oneb (par null (out x a null)) (dn X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\Q1 x y)) (N1 y))) Q2

6 other subgoals.

inv-sim < case H7.
Subgoal 5.1.3.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (up X) N1}
  H8 : {oneb null (dn X) (M2 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\par (M2 x y) (out x a null))) (N1 y))) Q2

7 other subgoals.

inv-sim < case H8.
Subgoal 5.1.3.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (up X) N1}
  H8 : {oneb (out x a null) (dn X) (N2 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\par null (N2 x y))) (N1 y))) Q2

6 other subgoals.

inv-sim < case H8.
Subgoal 5.1.4:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb (nu (z\par null (out x a null))) (up X) M1}
  H6 : {oneb M (dn X) N1}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

5 other subgoals.

inv-sim < case H5.
Subgoal 5.1.4.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H7 : {oneb (par null (out x a null)) (up X) (y\Q1 n1 y)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\Q1 x y)) (N1 y))) Q2

6 other subgoals.

inv-sim < case H7.
Subgoal 5.1.4.1.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H8 : {oneb null (up X) (M2 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\par (M2 x y) (out x a null))) (N1 y))) Q2

7 other subgoals.

inv-sim < case H8.
Subgoal 5.1.4.1.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H8 : {oneb (out x a null) (up X) (N2 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (nu (x\par null (N2 x y))) (N1 y))) Q2

6 other subgoals.

inv-sim < case H8.
Subgoal 5.1.4.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H7 : {one (par null (out x a null)) (up X n1) (M1 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

5 other subgoals.

inv-sim < case H7.
Subgoal 5.1.4.2.1:

  Variables: P, Q, N, M, A, P1, N1, X, M1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H8 : {one null (up X n1) (P2 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (nu (y\par (par (P2 y) (out x a null)) (N1 y))) Q1

6 other subgoals.

inv-sim < case H8.
Subgoal 5.1.4.2.2:

  Variables: P, Q, N, M, A, P1, N1, X, M1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb M (dn X) N1}
  H8 : {one (out x a null) (up X n1) (Q1 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (nu (y\par (par null (Q1 y)) (N1 y))) Q2

5 other subgoals.

inv-sim < case H8.
Subgoal 5.1.5:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb (nu (z\par null (out x a null))) (dn X) M1}
  H6 : {one M (up X Y) T}
  H7 : {eq R (M1 Y)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\ inv (par R T) Q1

4 other subgoals.

inv-sim < case H5.
Subgoal 5.1.5:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {one M (up X Y) T}
  H7 : {eq R (nu (x\Q1 x Y))}
  H8 : {oneb (par null (out x a null)) (dn X) (y\Q1 n1 y)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\ inv (par R T) Q1

4 other subgoals.

inv-sim < case H8.
Subgoal 5.1.5.1:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {one M (up X Y) T}
  H7 : {eq R (nu (x\par (M2 x Y) (out x a null)))}
  H9 : {oneb null (dn X) (M2 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\ inv (par R T) Q1

5 other subgoals.

inv-sim < case H9.
Subgoal 5.1.5.2:

  Variables: P, Q, N, M, A, P1, Y, M1, R, T, X, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {one M (up X Y) T}
  H7 : {eq R (nu (x\par null (N1 x Y)))}
  H9 : {oneb (out x a null) (dn X) (N1 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\ inv (par R T) Q1

4 other subgoals.

inv-sim < case H9.
Subgoal 5.1.6:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn X) M1}
  H6 : {one (nu (z\par null (out x a null))) (up X Y) R}
  H7 : {eq T (M1 Y)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\ inv (par R T) Q1

3 other subgoals.

inv-sim < case H6.
Subgoal 5.1.6:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn X) M1}
  H7 : {eq T (M1 Y)}
  H8 : {one (par null (out x a null)) (up X Y) (Q1 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\Q1 x)) T) Q2

3 other subgoals.

inv-sim < case H8.
Subgoal 5.1.6.1:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn X) M1}
  H7 : {eq T (M1 Y)}
  H9 : {one null (up X Y) (P2 n1)}
  ============================
   exists Q2, {one (par (out x a null) N) tau Q2} /\
     inv (par (nu (x\par (P2 x) (out x a null))) T) Q2

4 other subgoals.

inv-sim < case H9.
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn X) M1}
  H7 : {eq T (M1 Y)}
  H9 : {one (out x a null) (up X Y) (Q2 n1)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (par (nu (x\par null (Q2 x))) T) Q1

3 other subgoals.

inv-sim < case H9.
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn x) M1}
  H7 : {eq T (M1 a)}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (par (nu (x\par null null)) T) Q1

3 other subgoals.

inv-sim < case H7.
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn x) M1}
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (par (nu (x\par null null)) (M1 a)) Q1

3 other subgoals.

inv-sim < case H3.
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (par (nu (x\par null null)) (M1 a)) Q1

3 other subgoals.

inv-sim < apply H11 to H5.
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  H13 : {oneb N (dn x) N1}
  H14 : forall w, inv (M1 w) (N1 w)
  ============================
   exists Q1, {one (par (out x a null) N) tau Q1} /\
     inv (par (nu (x\par null null)) (M1 a)) Q1

3 other subgoals.

inv-sim < exists par null (N1 a).
Subgoal 5.1.6.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  H13 : {oneb N (dn x) N1}
  H14 : forall w, inv (M1 w) (N1 w)
  ============================
   {one (par (out x a null) N) tau (par null (N1 a))} /\
     inv (par (nu (x\par null null)) (M1 a)) (par null (N1 a))

3 other subgoals.

inv-sim < split.
Subgoal 5.1.6.2.1:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  H13 : {oneb N (dn x) N1}
  H14 : forall w, inv (M1 w) (N1 w)
  ============================
   {one (par (out x a null) N) tau (par null (N1 a))}

4 other subgoals.

inv-sim < search.
Subgoal 5.1.6.2.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  H13 : {oneb N (dn x) N1}
  H14 : forall w, inv (M1 w) (N1 w)
  ============================
   inv (par (nu (x\par null null)) (M1 a)) (par null (N1 a))

3 other subgoals.

inv-sim < apply H14 with w = a.
Subgoal 5.1.6.2.2:

  Variables: P, Q, N, M, A, P1, Y, M1, T, R, X, Q1, Q2, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn x) M1}
  H10 : forall A P1, {one M A P1} -> (exists Q1, {one N A Q1} /\ inv P1 Q1)
  H11 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
          (forall w, inv (M1 w) (N1 w)))
  H12 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
          (nabla w, inv (M1 w) (N1 w)))
  H13 : {oneb N (dn x) N1}
  H14 : forall w, inv (M1 w) (N1 w)
  H15 : inv (M1 a) (N1 a)
  ============================
   inv (par (nu (x\par null null)) (M1 a)) (par null (N1 a))

3 other subgoals.

inv-sim < search.
Subgoal 5.2:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   forall X M1, {oneb (par (nu (z\par null (out x a null))) M) (dn X) M1} ->
     (exists N1, {oneb (par (out x a null) N) (dn X) N1} /\ (forall w,
     inv (M1 w) (N1 w)))

2 other subgoals.

inv-sim < intros.
Subgoal 5.2:

  Variables: P, Q, N, M, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H4 : {oneb (par (nu (z\par null (out x a null))) M) (dn X) M1}
  ============================
   exists N1, {oneb (par (out x a null) N) (dn X) N1} /\ (forall w,
     inv (M1 w) (N1 w))

2 other subgoals.

inv-sim < case H4.
Subgoal 5.2.1:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb (nu (z\par null (out x a null))) (dn X) M2}
  ============================
   exists N1, {oneb (par (out x a null) N) (dn X) N1} /\ (forall w,
     inv (par (M2 w) M) (N1 w))

3 other subgoals.

inv-sim < case H5.
Subgoal 5.2.1:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb (par null (out x a null)) (dn X) (y\Q1 n1 y)}
  ============================
   exists N1, {oneb (par (out x a null) N) (dn X) N1} /\ (forall w,
     inv (par (nu (x\Q1 x w)) M) (N1 w))

3 other subgoals.

inv-sim < case H6.
Subgoal 5.2.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1, M3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb null (dn X) (M3 n1)}
  ============================
   exists N1, {oneb (par (out x a null) N) (dn X) N1} /\ (forall w,
     inv (par (nu (x\par (M3 x w) (out x a null))) M) (N1 w))

4 other subgoals.

inv-sim < case H7.
Subgoal 5.2.1.2:

  Variables: P, Q, N, M, X, M1, M2, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb (out x a null) (dn X) (N1 n1)}
  ============================
   exists N2, {oneb (par (out x a null) N) (dn X) N2} /\ (forall w,
     inv (par (nu (x\par null (N1 x w))) M) (N2 w))

3 other subgoals.

inv-sim < case H7.
Subgoal 5.2.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (dn X) N1}
  ============================
   exists N2, {oneb (par (out x a null) N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

2 other subgoals.

inv-sim < case H3.
Subgoal 5.2.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists N2, {oneb (par (out x a null) N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

2 other subgoals.

inv-sim < apply H7 to H5.
Subgoal 5.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   exists N2, {oneb (par (out x a null) N) (dn X) N2} /\ (forall w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

2 other subgoals.

inv-sim < exists w\par (out x a null) (N2 w).
Subgoal 5.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (out x a null) N) (dn X) (w\par (out x a null) (N2 w))} /\
     (forall w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (par (out x a null) (N2 w)))

2 other subgoals.

inv-sim < split.
Subgoal 5.2.2.1:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (out x a null) N) (dn X) (w\par (out x a null) (N2 w))}

3 other subgoals.

inv-sim < search.
Subgoal 5.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   forall w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (par (out x a null) (N2 w))

2 other subgoals.

inv-sim < intros.
Subgoal 5.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   inv (par (nu (z\par null (out x a null))) (N1 w)) (par (out x a null) (N2 w))

2 other subgoals.

inv-sim < apply H10 with w = w.
Subgoal 5.2.2.2:

  Variables: P, Q, N, M, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (dn X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  H11 : inv (N1 w) (N2 w)
  ============================
   inv (par (nu (z\par null (out x a null))) (N1 w)) (par (out x a null) (N2 w))

2 other subgoals.

inv-sim < search.
Subgoal 5.3:

  Variables: P, Q, N, M
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  ============================
   forall X M1, {oneb (par (nu (z\par null (out x a null))) M) (up X) M1} ->
     (exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (M1 w) (N1 w)))

1 other subgoal.

inv-sim < intros.
Subgoal 5.3:

  Variables: P, Q, N, M, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H4 : {oneb (par (nu (z\par null (out x a null))) M) (up X) M1}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (M1 w) (N1 w))

1 other subgoal.

inv-sim < case H4.
Subgoal 5.3.1:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb (nu (z\par null (out x a null))) (up X) M2}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (M2 w) M) (N1 w))

2 other subgoals.

inv-sim < case H5.
Subgoal 5.3.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {oneb (par null (out x a null)) (up X) (y\Q1 n1 y)}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (nu (x\Q1 x w)) M) (N1 w))

3 other subgoals.

inv-sim < case H6.
Subgoal 5.3.1.1.1:

  Variables: P, Q, N, M, X, M1, M2, Q1, M3
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb null (up X) (M3 n1)}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (nu (x\par (M3 x w) (out x a null))) M) (N1 w))

4 other subgoals.

inv-sim < case H7.
Subgoal 5.3.1.1.2:

  Variables: P, Q, N, M, X, M1, M2, Q1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {oneb (out x a null) (up X) (N1 n1)}
  ============================
   exists N2, {oneb (par (out x a null) N) (up X) N2} /\ (nabla w,
     inv (par (nu (x\par null (N1 x w))) M) (N2 w))

3 other subgoals.

inv-sim < case H7.
Subgoal 5.3.1.2:

  Variables: P, Q, N, M, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H6 : {one (par null (out x a null)) (up X n1) (M2 n1)}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (M2 w) M) (N1 w))

2 other subgoals.

inv-sim < case H6.
Subgoal 5.3.1.2.1:

  Variables: P, Q, N, M, X, M1, M2, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {one null (up X n1) (P1 n1)}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (par (P1 w) (out x a null)) M) (N1 w))

3 other subgoals.

inv-sim < case H7.
Subgoal 5.3.1.2.2:

  Variables: P, Q, N, M, X, M1, M2, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H7 : {one (out x a null) (up X n1) (Q1 n1)}
  ============================
   exists N1, {oneb (par (out x a null) N) (up X) N1} /\ (nabla w,
     inv (par (par null (Q1 w)) M) (N1 w))

2 other subgoals.

inv-sim < case H7.
Subgoal 5.3.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H3 : simInv M N
  H5 : {oneb M (up X) N1}
  ============================
   exists N2, {oneb (par (out x a null) N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

1 other subgoal.

inv-sim < case H3.
Subgoal 5.3.2:

  Variables: P, Q, N, M, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  ============================
   exists N2, {oneb (par (out x a null) N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

1 other subgoal.

inv-sim < apply H8 to H5.
Subgoal 5.3.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   exists N2, {oneb (par (out x a null) N) (up X) N2} /\ (nabla w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (N2 w))

1 other subgoal.

inv-sim < exists w\par (out x a null) (N2 w).
Subgoal 5.3.2:

  Variables: P, Q, N, M, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv M N *
  H5 : {oneb M (up X) N1}
  H6 : forall A P2, {one M A P2} -> (exists Q2, {one N A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb M (dn X) M1} -> (exists N1, {oneb N (dn X) N1} /\
         (forall w, inv (M1 w) (N1 w)))
  H8 : forall X M1, {oneb M (up X) M1} -> (exists N1, {oneb N (up X) N1} /\
         (nabla w, inv (M1 w) (N1 w)))
  H9 : {oneb N (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   {oneb (par (out x a null) N) (up X) (w\par (out x a null) (N2 w))} /\
     (nabla w,
     inv (par (nu (z\par null (out x a null))) (N1 w)) (par (out x a null) (N2 w)))

1 other subgoal.

inv-sim < search.
Subgoal 6:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   simInv (par (out x a null) N) (par (nu (z\par null (out x a null))) M)

inv-sim < unfold.
Subgoal 6.1:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall A P1, {one (par (out x a null) N) A P1} -> (exists Q1,
     {one (par (nu (z\par null (out x a null))) M) A Q1} /\ inv P1 Q1)

2 other subgoals.

inv-sim < intros.
Subgoal 6.1:

  Variables: P, Q, M, N, A, P1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {one (par (out x a null) N) A P1}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) A Q1} /\
     inv P1 Q1

2 other subgoals.

inv-sim < case H3.
Subgoal 6.1.1:

  Variables: P, Q, M, N, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one (out x a null) A P2}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) A Q1} /\
     inv (par P2 N) Q1

7 other subgoals.

inv-sim < case H4.
Subgoal 6.1.1:

  Variables: P, Q, M, N, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) (up x a) Q1} /\
     inv (par null N) Q1

7 other subgoals.

inv-sim < exists par (nu (z\par null null)) M.
Subgoal 6.1.1:

  Variables: P, Q, M, N, A, P1, P2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   {one (par (nu (z\par null (out x a null))) M) (up x a) (par (nu (z\par null null)) M)} /\
     inv (par null N) (par (nu (z\par null null)) M)

7 other subgoals.

inv-sim < search.
Subgoal 6.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  ============================
   exists Q2, {one (par (nu (z\par null (out x a null))) M) A Q2} /\
     inv (par (out x a null) Q1) Q2

6 other subgoals.

inv-sim < apply IH to H2.
Subgoal 6.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H5 : simInv N M
  ============================
   exists Q2, {one (par (nu (z\par null (out x a null))) M) A Q2} /\
     inv (par (out x a null) Q1) Q2

6 other subgoals.

inv-sim < case H5.
Subgoal 6.1.2:

  Variables: P, Q, M, N, A, P1, Q1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists Q2, {one (par (nu (z\par null (out x a null))) M) A Q2} /\
     inv (par (out x a null) Q1) Q2

6 other subgoals.

inv-sim < apply H6 to H4.
Subgoal 6.1.2:

  Variables: P, Q, M, N, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {one M A Q2}
  H10 : inv Q1 Q2
  ============================
   exists Q2, {one (par (nu (z\par null (out x a null))) M) A Q2} /\
     inv (par (out x a null) Q1) Q2

6 other subgoals.

inv-sim < exists par (nu (z\par null (out x a null))) Q2.
Subgoal 6.1.2:

  Variables: P, Q, M, N, A, P1, Q1, Q2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {one N A Q1}
  H6 : forall A P1, {one N A P1} -> (exists Q1, {one M A Q1} /\ inv P1 Q1)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {one M A Q2}
  H10 : inv Q1 Q2
  ============================
   {one (par (nu (z\par null (out x a null))) M) A (par (nu (z\par null (out x a null))) Q2)} /\
     inv (par (out x a null) Q1) (par (nu (z\par null (out x a null))) Q2)

6 other subgoals.

inv-sim < search.
Subgoal 6.1.3:

  Variables: P, Q, M, N, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb (out x a null) (dn X) M1}
  H5 : {oneb N (up X) N1}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

5 other subgoals.

inv-sim < case H4.
Subgoal 6.1.4:

  Variables: P, Q, M, N, A, P1, N1, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb (out x a null) (up X) M1}
  H5 : {oneb N (dn X) N1}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (nu (y\par (M1 y) (N1 y))) Q1

4 other subgoals.

inv-sim < case H4.
Subgoal 6.1.5:

  Variables: P, Q, M, N, A, P1, Y, M1, R, T, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb (out x a null) (dn X) M1}
  H5 : {one N (up X Y) T}
  H6 : {eq R (M1 Y)}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par R T) Q1

3 other subgoals.

inv-sim < case H4.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) M1}
  H5 : {one (out x a null) (up X Y) R}
  H6 : {eq T (M1 Y)}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par R T) Q1

2 other subgoals.

inv-sim < case H5.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H6 : {eq T (M1 a)}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par null T) Q1

2 other subgoals.

inv-sim < case H6.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par null (M1 a)) Q1

2 other subgoals.

inv-sim < apply IH to H2.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H7 : simInv N M
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par null (M1 a)) Q1

2 other subgoals.

inv-sim < case H7.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H8 : forall A P1, {one N A P1} -> (exists Q2, {one M A Q2} /\ inv P1 Q2)
  H9 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H10 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
          (nabla w, inv (M1 w) (N w)))
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par null (M1 a)) Q1

2 other subgoals.

inv-sim < apply H9 to H4.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H8 : forall A P1, {one N A P1} -> (exists Q2, {one M A Q2} /\ inv P1 Q2)
  H9 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H10 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
          (nabla w, inv (M1 w) (N w)))
  H11 : {oneb M (dn x) N1}
  H12 : forall w, inv (M1 w) (N1 w)
  ============================
   exists Q1, {one (par (nu (z\par null (out x a null))) M) tau Q1} /\
     inv (par null (M1 a)) Q1

2 other subgoals.

inv-sim < exists par (nu (z\par null null)) (N1 a).
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H8 : forall A P1, {one N A P1} -> (exists Q2, {one M A Q2} /\ inv P1 Q2)
  H9 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H10 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
          (nabla w, inv (M1 w) (N w)))
  H11 : {oneb M (dn x) N1}
  H12 : forall w, inv (M1 w) (N1 w)
  ============================
   {one (par (nu (z\par null (out x a null))) M) tau (par (nu (z\par null null)) (N1 a))} /\
     inv (par null (M1 a)) (par (nu (z\par null null)) (N1 a))

2 other subgoals.

inv-sim < apply H12 with w = a.
Subgoal 6.1.6:

  Variables: P, Q, M, N, A, P1, Y, M1, T, R, X, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn x) M1}
  H8 : forall A P1, {one N A P1} -> (exists Q2, {one M A Q2} /\ inv P1 Q2)
  H9 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H10 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
          (nabla w, inv (M1 w) (N w)))
  H11 : {oneb M (dn x) N1}
  H12 : forall w, inv (M1 w) (N1 w)
  H13 : inv (M1 a) (N1 a)
  ============================
   {one (par (nu (z\par null (out x a null))) M) tau (par (nu (z\par null null)) (N1 a))} /\
     inv (par null (M1 a)) (par (nu (z\par null null)) (N1 a))

2 other subgoals.

inv-sim < search.
Subgoal 6.2:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall X M1, {oneb (par (out x a null) N) (dn X) M1} -> (exists N,
     {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\ (forall w,
     inv (M1 w) (N w)))

1 other subgoal.

inv-sim < intros.
Subgoal 6.2:

  Variables: P, Q, M, N, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {oneb (par (out x a null) N) (dn X) M1}
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\
     (forall w, inv (M1 w) (N w))

1 other subgoal.

inv-sim < case H3.
Subgoal 6.2.1:

  Variables: P, Q, M, N, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb (out x a null) (dn X) M2}
  ============================
   exists N1, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N1} /\
     (forall w, inv (par (M2 w) N) (N1 w))

2 other subgoals.

inv-sim < case H4.
Subgoal 6.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\
     (forall w, inv (par (out x a null) (N1 w)) (N w))

1 other subgoal.

inv-sim < apply IH to H2.
Subgoal 6.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H5 : simInv N M
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\
     (forall w, inv (par (out x a null) (N1 w)) (N w))

1 other subgoal.

inv-sim < case H5.
Subgoal 6.2.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\
     (forall w, inv (par (out x a null) (N1 w)) (N w))

1 other subgoal.

inv-sim < apply H7 to H4.
Subgoal 6.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (dn X) N} /\
     (forall w, inv (par (out x a null) (N1 w)) (N w))

1 other subgoal.

inv-sim < exists w\par (nu (z\par null (out x a null))) (N2 w).
Subgoal 6.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (nu (z\par null (out x a null))) M) (dn X) (w\par (nu (z\par null (out x a null))) (N2 w))} /\
     (forall w,
     inv (par (out x a null) (N1 w)) (par (nu (z\par null (out x a null))) (N2 w)))

1 other subgoal.

inv-sim < split.
Subgoal 6.2.2.1:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   {oneb (par (nu (z\par null (out x a null))) M) (dn X) (w\par (nu (z\par null (out x a null))) (N2 w))}

2 other subgoals.

inv-sim < search.
Subgoal 6.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   forall w,
     inv (par (out x a null) (N1 w)) (par (nu (z\par null (out x a null))) (N2 w))

1 other subgoal.

inv-sim < intros.
Subgoal 6.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  ============================
   inv (par (out x a null) (N1 w)) (par (nu (z\par null (out x a null))) (N2 w))

1 other subgoal.

inv-sim < apply H10 with w = w.
Subgoal 6.2.2.2:

  Variables: P, Q, M, N, X, M1, N1, N2, w
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (dn X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (dn X) N2}
  H10 : forall w, inv (N1 w) (N2 w)
  H11 : inv (N1 w) (N2 w)
  ============================
   inv (par (out x a null) (N1 w)) (par (nu (z\par null (out x a null))) (N2 w))

1 other subgoal.

inv-sim < search.
Subgoal 6.3:

  Variables: P, Q, M, N
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  ============================
   forall X M1, {oneb (par (out x a null) N) (up X) M1} -> (exists N,
     {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\ (nabla w,
     inv (M1 w) (N w)))

inv-sim < intros.
Subgoal 6.3:

  Variables: P, Q, M, N, X, M1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H3 : {oneb (par (out x a null) N) (up X) M1}
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\
     (nabla w, inv (M1 w) (N w))

inv-sim < case H3.
Subgoal 6.3.1:

  Variables: P, Q, M, N, X, M1, M2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb (out x a null) (up X) M2}
  ============================
   exists N1, {oneb (par (nu (z\par null (out x a null))) M) (up X) N1} /\
     (nabla w, inv (par (M2 w) N) (N1 w))

1 other subgoal.

inv-sim < case H4.
Subgoal 6.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\
     (nabla w, inv (par (out x a null) (N1 w)) (N w))

inv-sim < apply IH to H2.
Subgoal 6.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H5 : simInv N M
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\
     (nabla w, inv (par (out x a null) (N1 w)) (N w))

inv-sim < case H5.
Subgoal 6.3.2:

  Variables: P, Q, M, N, X, M1, N1
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\
     (nabla w, inv (par (out x a null) (N1 w)) (N w))

inv-sim < apply H8 to H4.
Subgoal 6.3.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   exists N, {oneb (par (nu (z\par null (out x a null))) M) (up X) N} /\
     (nabla w, inv (par (out x a null) (N1 w)) (N w))

inv-sim < exists w\par (nu (z\par null (out x a null))) (N2 w).
Subgoal 6.3.2:

  Variables: P, Q, M, N, X, M1, N1, N2
  IH : forall P Q, inv P Q * -> simInv P Q
  H2 : inv N M *
  H4 : {oneb N (up X) N1}
  H6 : forall A P2, {one N A P2} -> (exists Q2, {one M A Q2} /\ inv P2 Q2)
  H7 : forall X M1, {oneb N (dn X) M1} -> (exists N, {oneb M (dn X) N} /\
         (forall w, inv (M1 w) (N w)))
  H8 : forall X M1, {oneb N (up X) M1} -> (exists N, {oneb M (up X) N} /\
         (nabla w, inv (M1 w) (N w)))
  H9 : {oneb M (up X) N2}
  H10 : inv (N1 n1) (N2 n1)
  ============================
   {oneb (par (nu (z\par null (out x a null))) M) (up X) (w\par (nu (z\par null (out x a null))) (N2 w))} /\
     (nabla w,
     inv (par (out x a null) (N1 w)) (par (nu (z\par null (out x a null))) (N2 w)))

inv-sim < search.
Proof completed.

Abella < Theorem inv-bisim : 
forall R T, inv R T -> bisimInv R T.


  ============================
   forall R T, inv R T -> bisimInv R T

inv-bisim < intros.

  Variables: R, T
  H1 : inv R T
  ============================
   bisimInv R T

inv-bisim < assert simInv R T.
Subgoal 1:

  Variables: R, T
  H1 : inv R T
  ============================
   simInv R T

1 other subgoal.

inv-bisim < apply inv-sim to H1.
Subgoal 1:

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  ============================
   simInv R T

1 other subgoal.

inv-bisim < search.

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  ============================
   bisimInv R T

inv-bisim < assert simInv T R.
Subgoal 2:

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  ============================
   simInv T R

1 other subgoal.

inv-bisim < apply inv-sym to H1.
Subgoal 2:

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  H3 : inv T R
  ============================
   simInv T R

1 other subgoal.

inv-bisim < apply inv-sim to H3.
Subgoal 2:

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  H3 : inv T R
  H4 : simInv T R
  ============================
   simInv T R

1 other subgoal.

inv-bisim < search.

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  H3 : simInv T R
  ============================
   bisimInv R T

inv-bisim < apply sim-bisim to H2 H3.

  Variables: R, T
  H1 : inv R T
  H2 : simInv R T
  H3 : simInv T R
  H4 : bisimInv R T
  ============================
   bisimInv R T

inv-bisim < search.
Proof completed.

Abella < Theorem inv-implies-bisim : 
forall P Q, inv P Q -> bisim P Q.


  ============================
   forall P Q, inv P Q -> bisim P Q

inv-implies-bisim < coinduction.


  CH : forall P Q, inv P Q -> bisim P Q +
  ============================
   forall P Q, inv P Q -> bisim P Q #

inv-implies-bisim < intros.

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  ============================
   bisim P Q #

inv-implies-bisim < apply inv-bisim to H1.

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   bisim P Q #

inv-implies-bisim < unfold.
Subgoal 1:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall A P1, {one P A P1} -> (exists Q1, {one Q A Q1} /\ bisim P1 Q1 +)

5 other subgoals.

inv-implies-bisim < intros.
Subgoal 1:

  Variables: P, Q, A, P1
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {one P A P1}
  ============================
   exists Q1, {one Q A Q1} /\ bisim P1 Q1 +

5 other subgoals.

inv-implies-bisim < case H2.
Subgoal 1:

  Variables: P, Q, A, P1
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one P A P1}
  H4 : forall A P1, {one P A P1} -> (exists Q2, {one Q A Q2} /\ inv P1 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P1, {one P A P1} /\ inv Q2 P1)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists Q1, {one Q A Q1} /\ bisim P1 Q1 +

5 other subgoals.

inv-implies-bisim < apply H4 to H3.
Subgoal 1:

  Variables: P, Q, A, P1, Q2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one P A P1}
  H4 : forall A P1, {one P A P1} -> (exists Q2, {one Q A Q2} /\ inv P1 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P1, {one P A P1} /\ inv Q2 P1)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one Q A Q2}
  H11 : inv P1 Q2
  ============================
   exists Q1, {one Q A Q1} /\ bisim P1 Q1 +

5 other subgoals.

inv-implies-bisim < exists Q2.
Subgoal 1:

  Variables: P, Q, A, P1, Q2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one P A P1}
  H4 : forall A P1, {one P A P1} -> (exists Q2, {one Q A Q2} /\ inv P1 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P1, {one P A P1} /\ inv Q2 P1)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one Q A Q2}
  H11 : inv P1 Q2
  ============================
   {one Q A Q2} /\ bisim P1 Q2 +

5 other subgoals.

inv-implies-bisim < apply CH to H11.
Subgoal 1:

  Variables: P, Q, A, P1, Q2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one P A P1}
  H4 : forall A P1, {one P A P1} -> (exists Q2, {one Q A Q2} /\ inv P1 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P1, {one P A P1} /\ inv Q2 P1)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one Q A Q2}
  H11 : inv P1 Q2
  H12 : bisim P1 Q2 +
  ============================
   {one Q A Q2} /\ bisim P1 Q2 +

5 other subgoals.

inv-implies-bisim < search.
Subgoal 2:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
     (forall w, bisim (M w) (N w) +))

4 other subgoals.

inv-implies-bisim < intros.
Subgoal 2:

  Variables: P, Q, X, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {oneb P (dn X) M}
  ============================
   exists N, {oneb Q (dn X) N} /\ (forall w, bisim (M w) (N w) +)

4 other subgoals.

inv-implies-bisim < case H2.
Subgoal 2:

  Variables: P, Q, X, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists N, {oneb Q (dn X) N} /\ (forall w, bisim (M w) (N w) +)

4 other subgoals.

inv-implies-bisim < apply H5 to H3.
Subgoal 2:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   exists N, {oneb Q (dn X) N} /\ (forall w, bisim (M w) (N w) +)

4 other subgoals.

inv-implies-bisim < exists N.
Subgoal 2:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   {oneb Q (dn X) N} /\ (forall w, bisim (M w) (N w) +)

4 other subgoals.

inv-implies-bisim < split.
Subgoal 2.1:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   {oneb Q (dn X) N}

5 other subgoals.

inv-implies-bisim < search.
Subgoal 2.2:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   forall w, bisim (M w) (N w) +

4 other subgoals.

inv-implies-bisim < intros.
Subgoal 2.2:

  Variables: P, Q, X, M, N, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  ============================
   bisim (M w) (N w) +

4 other subgoals.

inv-implies-bisim < apply H11 with w = w.
Subgoal 2.2:

  Variables: P, Q, X, M, N, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  H12 : inv (M w) (N w)
  ============================
   bisim (M w) (N w) +

4 other subgoals.

inv-implies-bisim < apply CH to H12.
Subgoal 2.2:

  Variables: P, Q, X, M, N, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (dn X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (dn X) N}
  H11 : forall w, inv (M w) (N w)
  H12 : inv (M w) (N w)
  H13 : bisim (M w) (N w) +
  ============================
   bisim (M w) (N w) +

4 other subgoals.

inv-implies-bisim < search.
Subgoal 3:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\ (nabla w,
     bisim (M w) (N w) +))

3 other subgoals.

inv-implies-bisim < intros.
Subgoal 3:

  Variables: P, Q, X, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {oneb P (up X) M}
  ============================
   exists N, {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

inv-implies-bisim < case H2.
Subgoal 3:

  Variables: P, Q, X, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (up X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists N, {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

inv-implies-bisim < apply H6 to H3.
Subgoal 3:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (up X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (up X) N}
  H11 : inv (M n1) (N n1)
  ============================
   exists N, {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

inv-implies-bisim < exists N.
Subgoal 3:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (up X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (up X) N}
  H11 : inv (M n1) (N n1)
  ============================
   {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

inv-implies-bisim < apply CH to H11.
Subgoal 3:

  Variables: P, Q, X, M, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb P (up X) M}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb Q (up X) N}
  H11 : inv (M n1) (N n1)
  H12 : bisim (M n1) (N n1) +
  ============================
   {oneb Q (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

inv-implies-bisim < search.
Subgoal 4:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall A Q1, {one Q A Q1} -> (exists P1, {one P A P1} /\ bisim Q1 P1 +)

2 other subgoals.

inv-implies-bisim < intros.
Subgoal 4:

  Variables: P, Q, A, Q1
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {one Q A Q1}
  ============================
   exists P1, {one P A P1} /\ bisim Q1 P1 +

2 other subgoals.

inv-implies-bisim < case H2.
Subgoal 4:

  Variables: P, Q, A, Q1
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one Q A Q1}
  H4 : forall A P2, {one P A P2} -> (exists Q1, {one Q A Q1} /\ inv P2 Q1)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q1, {one Q A Q1} -> (exists P2, {one P A P2} /\ inv Q1 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists P1, {one P A P1} /\ bisim Q1 P1 +

2 other subgoals.

inv-implies-bisim < apply H7 to H3.
Subgoal 4:

  Variables: P, Q, A, Q1, P2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one Q A Q1}
  H4 : forall A P2, {one P A P2} -> (exists Q1, {one Q A Q1} /\ inv P2 Q1)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q1, {one Q A Q1} -> (exists P2, {one P A P2} /\ inv Q1 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one P A P2}
  H11 : inv Q1 P2
  ============================
   exists P1, {one P A P1} /\ bisim Q1 P1 +

2 other subgoals.

inv-implies-bisim < exists P2.
Subgoal 4:

  Variables: P, Q, A, Q1, P2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one Q A Q1}
  H4 : forall A P2, {one P A P2} -> (exists Q1, {one Q A Q1} /\ inv P2 Q1)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q1, {one Q A Q1} -> (exists P2, {one P A P2} /\ inv Q1 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one P A P2}
  H11 : inv Q1 P2
  ============================
   {one P A P2} /\ bisim Q1 P2 +

2 other subgoals.

inv-implies-bisim < apply CH to H11.
Subgoal 4:

  Variables: P, Q, A, Q1, P2
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {one Q A Q1}
  H4 : forall A P2, {one P A P2} -> (exists Q1, {one Q A Q1} /\ inv P2 Q1)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q1, {one Q A Q1} -> (exists P2, {one P A P2} /\ inv Q1 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {one P A P2}
  H11 : inv Q1 P2
  H12 : bisim Q1 P2 +
  ============================
   {one P A P2} /\ bisim Q1 P2 +

2 other subgoals.

inv-implies-bisim < search.
Subgoal 5:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
     (forall w, bisim (N w) (M w) +))

1 other subgoal.

inv-implies-bisim < intros.
Subgoal 5:

  Variables: P, Q, X, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {oneb Q (dn X) N}
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, bisim (N w) (M w) +)

1 other subgoal.

inv-implies-bisim < case H2.
Subgoal 5:

  Variables: P, Q, X, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, bisim (N w) (M w) +)

1 other subgoal.

inv-implies-bisim < apply H8 to H3.
Subgoal 5:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, bisim (N w) (M w) +)

1 other subgoal.

inv-implies-bisim < exists M.
Subgoal 5:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  ============================
   {oneb P (dn X) M} /\ (forall w, bisim (N w) (M w) +)

1 other subgoal.

inv-implies-bisim < split.
Subgoal 5.1:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  ============================
   {oneb P (dn X) M}

2 other subgoals.

inv-implies-bisim < search.
Subgoal 5.2:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  ============================
   forall w, bisim (N w) (M w) +

1 other subgoal.

inv-implies-bisim < intros.
Subgoal 5.2:

  Variables: P, Q, X, N, M, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  ============================
   bisim (N w) (M w) +

1 other subgoal.

inv-implies-bisim < apply H11 with w = w.
Subgoal 5.2:

  Variables: P, Q, X, N, M, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  H12 : inv (N w) (M w)
  ============================
   bisim (N w) (M w) +

1 other subgoal.

inv-implies-bisim < apply CH to H12.
Subgoal 5.2:

  Variables: P, Q, X, N, M, w
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (dn X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (dn X) M}
  H11 : forall w, inv (N w) (M w)
  H12 : inv (N w) (M w)
  H13 : bisim (N w) (M w) +
  ============================
   bisim (N w) (M w) +

1 other subgoal.

inv-implies-bisim < search.
Subgoal 6:

  Variables: P, Q
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  ============================
   forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
     bisim (N w) (M w) +))

inv-implies-bisim < intros.
Subgoal 6:

  Variables: P, Q, X, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H2 : bisimInv P Q
  H3 : {oneb Q (up X) N}
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

inv-implies-bisim < case H2.
Subgoal 6:

  Variables: P, Q, X, N
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (up X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

inv-implies-bisim < apply H9 to H3.
Subgoal 6:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (up X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (up X) M}
  H11 : inv (N n1) (M n1)
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

inv-implies-bisim < exists M.
Subgoal 6:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (up X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (up X) M}
  H11 : inv (N n1) (M n1)
  ============================
   {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

inv-implies-bisim < apply CH to H11.
Subgoal 6:

  Variables: P, Q, X, N, M
  CH : forall P Q, inv P Q -> bisim P Q +
  H1 : inv P Q
  H3 : {oneb Q (up X) N}
  H4 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ inv P2 Q2)
  H5 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, inv (M w) (N w)))
  H6 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, inv (M w) (N w)))
  H7 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ inv Q2 P2)
  H8 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, inv (N w) (M w)))
  H9 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, inv (N w) (M w)))
  H10 : {oneb P (up X) M}
  H11 : inv (N n1) (M n1)
  H12 : bisim (N n1) (M n1) +
  ============================
   {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

inv-implies-bisim < search.
Proof completed.

Abella < Theorem p-bisim-q : 
forall P Q, p P -> q Q -> bisim P Q.


  ============================
   forall P Q, p P -> q Q -> bisim P Q

p-bisim-q < intros.

  Variables: P, Q
  H1 : p P
  H2 : q Q
  ============================
   bisim P Q

p-bisim-q < assert inv P Q.

  Variables: P, Q
  H1 : p P
  H2 : q Q
  H3 : inv P Q
  ============================
   bisim P Q

p-bisim-q < apply inv-implies-bisim to H3.

  Variables: P, Q
  H1 : p P
  H2 : q Q
  H3 : inv P Q
  H4 : bisim P Q
  ============================
   bisim P Q

p-bisim-q < search.
Proof completed.

Abella < Theorem bisim-sym : 
forall P Q, bisim P Q -> bisim Q P.


  ============================
   forall P Q, bisim P Q -> bisim Q P

bisim-sym < intros.

  Variables: P, Q
  H1 : bisim P Q
  ============================
   bisim Q P

bisim-sym < unfold.
Subgoal 1:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall A P1, {one Q A P1} -> (exists Q1, {one P A Q1} /\ bisim P1 Q1)

5 other subgoals.

bisim-sym < case H1.
Subgoal 1:

  Variables: P, Q
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   forall A P1, {one Q A P1} -> (exists Q1, {one P A Q1} /\ bisim P1 Q1)

5 other subgoals.

bisim-sym < intros.
Subgoal 1:

  Variables: P, Q, A, P1
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {one Q A P1}
  ============================
   exists Q1, {one P A Q1} /\ bisim P1 Q1

5 other subgoals.

bisim-sym < apply H5 to H8.
Subgoal 1:

  Variables: P, Q, A, P1, P2
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {one Q A P1}
  H9 : {one P A P2}
  H10 : bisim P1 P2
  ============================
   exists Q1, {one P A Q1} /\ bisim P1 Q1

5 other subgoals.

bisim-sym < search.
Subgoal 2:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall X M, {oneb Q (dn X) M} -> (exists N, {oneb P (dn X) N} /\
     (forall w, bisim (M w) (N w)))

4 other subgoals.

bisim-sym < intros.
Subgoal 2:

  Variables: P, Q, X, M
  H1 : bisim P Q
  H2 : {oneb Q (dn X) M}
  ============================
   exists N, {oneb P (dn X) N} /\ (forall w, bisim (M w) (N w))

4 other subgoals.

bisim-sym < case H1.
Subgoal 2:

  Variables: P, Q, X, M
  H2 : {oneb Q (dn X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   exists N, {oneb P (dn X) N} /\ (forall w, bisim (M w) (N w))

4 other subgoals.

bisim-sym < apply H7 to H2.
Subgoal 2:

  Variables: P, Q, X, M, M1
  H2 : {oneb Q (dn X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H9 : {oneb P (dn X) M1}
  H10 : forall w, bisim (M w) (M1 w)
  ============================
   exists N, {oneb P (dn X) N} /\ (forall w, bisim (M w) (N w))

4 other subgoals.

bisim-sym < exists M1.
Subgoal 2:

  Variables: P, Q, X, M, M1
  H2 : {oneb Q (dn X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H9 : {oneb P (dn X) M1}
  H10 : forall w, bisim (M w) (M1 w)
  ============================
   {oneb P (dn X) M1} /\ (forall w, bisim (M w) (M1 w))

4 other subgoals.

bisim-sym < split.
Subgoal 2.1:

  Variables: P, Q, X, M, M1
  H2 : {oneb Q (dn X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H9 : {oneb P (dn X) M1}
  H10 : forall w, bisim (M w) (M1 w)
  ============================
   {oneb P (dn X) M1}

5 other subgoals.

bisim-sym < search.
Subgoal 2.2:

  Variables: P, Q, X, M, M1
  H2 : {oneb Q (dn X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H9 : {oneb P (dn X) M1}
  H10 : forall w, bisim (M w) (M1 w)
  ============================
   forall w, bisim (M w) (M1 w)

4 other subgoals.

bisim-sym < search.
Subgoal 3:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall X M, {oneb Q (up X) M} -> (exists N, {oneb P (up X) N} /\ (nabla w,
     bisim (M w) (N w)))

3 other subgoals.

bisim-sym < intros.
Subgoal 3:

  Variables: P, Q, X, M
  H1 : bisim P Q
  H2 : {oneb Q (up X) M}
  ============================
   exists N, {oneb P (up X) N} /\ (nabla w, bisim (M w) (N w))

3 other subgoals.

bisim-sym < case H1.
Subgoal 3:

  Variables: P, Q, X, M
  H2 : {oneb Q (up X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   exists N, {oneb P (up X) N} /\ (nabla w, bisim (M w) (N w))

3 other subgoals.

bisim-sym < apply H8 to H2.
Subgoal 3:

  Variables: P, Q, X, M, M1
  H2 : {oneb Q (up X) M}
  H3 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H4 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H5 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H6 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H7 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H8 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H9 : {oneb P (up X) M1}
  H10 : bisim (M n1) (M1 n1)
  ============================
   exists N, {oneb P (up X) N} /\ (nabla w, bisim (M w) (N w))

3 other subgoals.

bisim-sym < search.
Subgoal 4:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall A Q1, {one P A Q1} -> (exists P1, {one Q A P1} /\ bisim Q1 P1)

2 other subgoals.

bisim-sym < case H1.
Subgoal 4:

  Variables: P, Q
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   forall A Q1, {one P A Q1} -> (exists P1, {one Q A P1} /\ bisim Q1 P1)

2 other subgoals.

bisim-sym < intros.
Subgoal 4:

  Variables: P, Q, A, Q1
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {one P A Q1}
  ============================
   exists P1, {one Q A P1} /\ bisim Q1 P1

2 other subgoals.

bisim-sym < apply H2 to H8.
Subgoal 4:

  Variables: P, Q, A, Q1, Q2
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {one P A Q1}
  H9 : {one Q A Q2}
  H10 : bisim Q1 Q2
  ============================
   exists P1, {one Q A P1} /\ bisim Q1 P1

2 other subgoals.

bisim-sym < search.
Subgoal 5:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall X N, {oneb P (dn X) N} -> (exists M, {oneb Q (dn X) M} /\
     (forall w, bisim (N w) (M w)))

1 other subgoal.

bisim-sym < case H1.
Subgoal 5:

  Variables: P, Q
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   forall X N, {oneb P (dn X) N} -> (exists M, {oneb Q (dn X) M} /\
     (forall w, bisim (N w) (M w)))

1 other subgoal.

bisim-sym < intros.
Subgoal 5:

  Variables: P, Q, X, N
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {oneb P (dn X) N}
  ============================
   exists M, {oneb Q (dn X) M} /\ (forall w, bisim (N w) (M w))

1 other subgoal.

bisim-sym < apply H3 to H8.
Subgoal 5:

  Variables: P, Q, X, N, N1
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {oneb P (dn X) N}
  H9 : {oneb Q (dn X) N1}
  H10 : forall w, bisim (N w) (N1 w)
  ============================
   exists M, {oneb Q (dn X) M} /\ (forall w, bisim (N w) (M w))

1 other subgoal.

bisim-sym < search.
Subgoal 6:

  Variables: P, Q
  H1 : bisim P Q
  ============================
   forall X N, {oneb P (up X) N} -> (exists M, {oneb Q (up X) M} /\ (nabla w,
     bisim (N w) (M w)))

bisim-sym < case H1.
Subgoal 6:

  Variables: P, Q
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  ============================
   forall X N, {oneb P (up X) N} -> (exists M, {oneb Q (up X) M} /\ (nabla w,
     bisim (N w) (M w)))

bisim-sym < intros.
Subgoal 6:

  Variables: P, Q, X, N
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {oneb P (up X) N}
  ============================
   exists M, {oneb Q (up X) M} /\ (nabla w, bisim (N w) (M w))

bisim-sym < apply H4 to H8.
Subgoal 6:

  Variables: P, Q, X, N, N1
  H2 : forall A P2, {one P A P2} -> (exists Q2, {one Q A Q2} /\ bisim P2 Q2)
  H3 : forall X M, {oneb P (dn X) M} -> (exists N, {oneb Q (dn X) N} /\
         (forall w, bisim (M w) (N w)))
  H4 : forall X M, {oneb P (up X) M} -> (exists N, {oneb Q (up X) N} /\
         (nabla w, bisim (M w) (N w)))
  H5 : forall A Q2, {one Q A Q2} -> (exists P2, {one P A P2} /\ bisim Q2 P2)
  H6 : forall X N, {oneb Q (dn X) N} -> (exists M, {oneb P (dn X) M} /\
         (forall w, bisim (N w) (M w)))
  H7 : forall X N, {oneb Q (up X) N} -> (exists M, {oneb P (up X) M} /\
         (nabla w, bisim (N w) (M w)))
  H8 : {oneb P (up X) N}
  H9 : {oneb Q (up X) N1}
  H10 : bisim (N n1) (N1 n1)
  ============================
   exists M, {oneb Q (up X) M} /\ (nabla w, bisim (N w) (M w))

bisim-sym < search.
Proof completed.

Abella < Theorem bisim-refl : 
forall P, bisim P P.


  ============================
   forall P, bisim P P

bisim-refl < coinduction.


  CH : forall P, bisim P P +
  ============================
   forall P, bisim P P #

bisim-refl < intros.

  Variables: P
  CH : forall P, bisim P P +
  ============================
   bisim P P #

bisim-refl < unfold.
Subgoal 1:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall A P1, {one P A P1} -> (exists Q1, {one P A Q1} /\ bisim P1 Q1 +)

5 other subgoals.

bisim-refl < intros.
Subgoal 1:

  Variables: P, A, P1
  CH : forall P, bisim P P +
  H1 : {one P A P1}
  ============================
   exists Q1, {one P A Q1} /\ bisim P1 Q1 +

5 other subgoals.

bisim-refl < apply CH with P = P1.
Subgoal 1:

  Variables: P, A, P1
  CH : forall P, bisim P P +
  H1 : {one P A P1}
  H2 : bisim P1 P1 +
  ============================
   exists Q1, {one P A Q1} /\ bisim P1 Q1 +

5 other subgoals.

bisim-refl < search.
Subgoal 2:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall X M, {oneb P (dn X) M} -> (exists N, {oneb P (dn X) N} /\
     (forall w, bisim (M w) (N w) +))

4 other subgoals.

bisim-refl < intros.
Subgoal 2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  ============================
   exists N, {oneb P (dn X) N} /\ (forall w, bisim (M w) (N w) +)

4 other subgoals.

bisim-refl < exists M.
Subgoal 2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  ============================
   {oneb P (dn X) M} /\ (forall w, bisim (M w) (M w) +)

4 other subgoals.

bisim-refl < split.
Subgoal 2.1:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  ============================
   {oneb P (dn X) M}

5 other subgoals.

bisim-refl < search.
Subgoal 2.2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  ============================
   forall w, bisim (M w) (M w) +

4 other subgoals.

bisim-refl < intros.
Subgoal 2.2:

  Variables: P, X, M, w
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  ============================
   bisim (M w) (M w) +

4 other subgoals.

bisim-refl < apply CH with P = M w.
Subgoal 2.2:

  Variables: P, X, M, w
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) M}
  H2 : bisim (M w) (M w) +
  ============================
   bisim (M w) (M w) +

4 other subgoals.

bisim-refl < search.
Subgoal 3:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall X M, {oneb P (up X) M} -> (exists N, {oneb P (up X) N} /\ (nabla w,
     bisim (M w) (N w) +))

3 other subgoals.

bisim-refl < intros.
Subgoal 3:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  ============================
   exists N, {oneb P (up X) N} /\ (nabla w, bisim (M w) (N w) +)

3 other subgoals.

bisim-refl < exists M.
Subgoal 3:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  ============================
   {oneb P (up X) M} /\ (nabla w, bisim (M w) (M w) +)

3 other subgoals.

bisim-refl < split.
Subgoal 3.1:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  ============================
   {oneb P (up X) M}

4 other subgoals.

bisim-refl < search.
Subgoal 3.2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  ============================
   nabla w, bisim (M w) (M w) +

3 other subgoals.

bisim-refl < intros.
Subgoal 3.2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  ============================
   bisim (M n1) (M n1) +

3 other subgoals.

bisim-refl < apply CH with P = M n1.
Subgoal 3.2:

  Variables: P, X, M
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) M}
  H2 : bisim (M n1) (M n1) +
  ============================
   bisim (M n1) (M n1) +

3 other subgoals.

bisim-refl < search.
Subgoal 4:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall A Q1, {one P A Q1} -> (exists P1, {one P A P1} /\ bisim Q1 P1 +)

2 other subgoals.

bisim-refl < intros.
Subgoal 4:

  Variables: P, A, Q1
  CH : forall P, bisim P P +
  H1 : {one P A Q1}
  ============================
   exists P1, {one P A P1} /\ bisim Q1 P1 +

2 other subgoals.

bisim-refl < apply CH with P = Q1.
Subgoal 4:

  Variables: P, A, Q1
  CH : forall P, bisim P P +
  H1 : {one P A Q1}
  H2 : bisim Q1 Q1 +
  ============================
   exists P1, {one P A P1} /\ bisim Q1 P1 +

2 other subgoals.

bisim-refl < search.
Subgoal 5:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall X N, {oneb P (dn X) N} -> (exists M, {oneb P (dn X) M} /\
     (forall w, bisim (N w) (M w) +))

1 other subgoal.

bisim-refl < intros.
Subgoal 5:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  ============================
   exists M, {oneb P (dn X) M} /\ (forall w, bisim (N w) (M w) +)

1 other subgoal.

bisim-refl < exists N.
Subgoal 5:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  ============================
   {oneb P (dn X) N} /\ (forall w, bisim (N w) (N w) +)

1 other subgoal.

bisim-refl < split.
Subgoal 5.1:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  ============================
   {oneb P (dn X) N}

2 other subgoals.

bisim-refl < search.
Subgoal 5.2:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  ============================
   forall w, bisim (N w) (N w) +

1 other subgoal.

bisim-refl < intros.
Subgoal 5.2:

  Variables: P, X, N, w
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  ============================
   bisim (N w) (N w) +

1 other subgoal.

bisim-refl < apply CH with P = N w.
Subgoal 5.2:

  Variables: P, X, N, w
  CH : forall P, bisim P P +
  H1 : {oneb P (dn X) N}
  H2 : bisim (N w) (N w) +
  ============================
   bisim (N w) (N w) +

1 other subgoal.

bisim-refl < search.
Subgoal 6:

  Variables: P
  CH : forall P, bisim P P +
  ============================
   forall X N, {oneb P (up X) N} -> (exists M, {oneb P (up X) M} /\ (nabla w,
     bisim (N w) (M w) +))

bisim-refl < intros.
Subgoal 6:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  ============================
   exists M, {oneb P (up X) M} /\ (nabla w, bisim (N w) (M w) +)

bisim-refl < exists N.
Subgoal 6:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  ============================
   {oneb P (up X) N} /\ (nabla w, bisim (N w) (N w) +)

bisim-refl < split.
Subgoal 6.1:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  ============================
   {oneb P (up X) N}

1 other subgoal.

bisim-refl < search.
Subgoal 6.2:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  ============================
   nabla w, bisim (N w) (N w) +

bisim-refl < intros.
Subgoal 6.2:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  ============================
   bisim (N n1) (N n1) +

bisim-refl < apply CH with P = N n1.
Subgoal 6.2:

  Variables: P, X, N
  CH : forall P, bisim P P +
  H1 : {oneb P (up X) N}
  H2 : bisim (N n1) (N n1) +
  ============================
   bisim (N n1) (N n1) +

bisim-refl < search.
Proof completed.

Abella < Goodbye.
